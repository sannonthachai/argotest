/**
  * vee-validate v4.5.0-alpha.6
  * (c) 2021 Abdelrahman Awad
  * @license MIT
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).VeeValidate={},e.Vue)}(this,(function(e,t){"use strict";function n(e){return"function"==typeof e}function r(e){return null==e}const a=e=>null!==e&&!!e&&"object"==typeof e&&!Array.isArray(e);function i(e){return Number(e)>=0}const u={};const o=Symbol("vee-validate-form"),l=Symbol("vee-validate-field-instance"),s=Symbol("Default empty value");function d(e){return n(e)&&!!e.__locatorRef}function c(e){return!!e&&n(e.validate)}function f(e){return"checkbox"===e||"radio"===e}function v(e){return/^\[.+\]$/i.test(e)}function m(e){return"SELECT"===e.tagName}function p(e,t){return function(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return"select"===e&&"multiple"in t&&n}(e,t)||function(e,t){return function(e){return["input","textarea","select"].includes(e)}(e)&&"file"===t.type}(e,t)}function h(e){return!!e&&(!!("undefined"!=typeof Event&&n(Event)&&e instanceof Event)||!(!e||!e.srcElement))}function y(e,t){return t in e&&e[t]!==s}function g(e){return v(e)?e.replace(/\[|\]/gi,""):e}function b(e,t,n){if(!e)return n;if(v(t))return e[g(t)];return(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce(((e,t)=>{return(a(r=e)||Array.isArray(r))&&t in e?e[t]:n;var r}),e)}function F(e,t,n){if(v(t))return void(e[g(t)]=n);const a=t.split(/\.|\[(\d+)\]/).filter(Boolean);let u=e;for(let e=0;e<a.length;e++){if(e===a.length-1)return void(u[a[e]]=n);a[e]in u&&!r(u[a[e]])||(u[a[e]]=i(a[e+1])?[]:{}),u=u[a[e]]}}function V(e,t){Array.isArray(e)&&i(t)?e.splice(Number(t),1):a(e)&&delete e[t]}function O(e,t){if(v(t))return void delete e[g(t)];const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let e=0;e<n.length;e++){if(e===n.length-1){V(i,n[e]);break}if(!(n[e]in i)||r(i[n[e]]))break;i=i[n[e]]}const u=n.map(((t,r)=>b(e,n.slice(0,r).join("."))));for(let t=u.length-1;t>=0;t--)o=u[t],(Array.isArray(o)?0===o.length:a(o)&&0===Object.keys(o).length)&&(0!==t?V(u[t-1],n[t-1]):V(e,n[0]));var o}function w(e){return Object.keys(e)}function j(e,n){const r=t.getCurrentInstance();return(null==r?void 0:r.provides[e])||t.inject(e,n)}function A(e){t.warn(`[vee-validate]: ${e}`)}function E(e){return Array.isArray(e)?e[0]:e}function S(e,t,n){if(Array.isArray(e)){const n=[...e],r=n.indexOf(t);return r>=0?n.splice(r,1):n.push(t),n}return e===t?n:t}const k=(e,t,n)=>t.slots.default?"string"!=typeof e&&e?{default:()=>{var e,r;return null===(r=(e=t.slots).default)||void 0===r?void 0:r.call(e,n())}}:t.slots.default(n()):t.slots.default;function B(e){if(M(e))return e._value}function M(e){return"_value"in e}function I(e){if(!h(e))return e;const t=e.target;if(f(t.type)&&M(t))return B(t);if("file"===t.type&&t.files)return Array.from(t.files);if(m(n=t)&&n.multiple)return Array.from(t.options).filter((e=>e.selected&&!e.disabled)).map(B);var n;if(m(t)){const e=Array.from(t.options).find((e=>e.selected));return e?B(e):t.value}return t.value}function C(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?a(e)&&e._$$isNormalized?e:a(e)?Object.keys(e).reduce(((t,n)=>{const r=function(e){if(!0===e)return[];if(Array.isArray(e))return e;if(a(e))return e;return[e]}(e[n]);return!1!==e[n]&&(t[n]=T(r)),t}),t):"string"!=typeof e?t:e.split("|").reduce(((e,t)=>{const n=R(t);return n.name?(e[n.name]=T(n.params),e):e}),t):t}function T(e){const t=e=>"string"==typeof e&&"@"===e[0]?function(e){const t=t=>b(t,e)||t[e];return t.__locatorRef=e,t}(e.slice(1)):e;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce(((n,r)=>(n[r]=t(e[r]),n)),{})}const R=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};let P=Object.assign({},{generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0});const x=()=>P,N=e=>{P=Object.assign(Object.assign({},P),e)};async function _(e,t,r={}){const a=null==r?void 0:r.bails,i={name:(null==r?void 0:r.name)||"{field}",rules:t,bails:null==a||a,formData:(null==r?void 0:r.values)||{}},u=(await async function(e,t){if(c(e.rules))return async function(e,t,n){var r;return{errors:await t.validate(e,{abortEarly:null===(r=n.bails)||void 0===r||r}).then((()=>[])).catch((e=>{if("ValidationError"===e.name)return e.errors;throw e}))}}(t,e.rules,{bails:e.bails});if(n(e.rules)){const n={field:e.name,form:e.formData,value:t},r=await e.rules(t,n),a="string"!=typeof r&&r,i="string"==typeof r?r:D(n);return{errors:a?[]:[i]}}const r=Object.assign(Object.assign({},e),{rules:C(e.rules)}),a=[],i=Object.keys(r.rules),u=i.length;for(let n=0;n<u;n++){const u=i[n],o=await $(r,t,{name:u,params:r.rules[u]});if(o.error&&(a.push(o.error),e.bails))return{errors:a}}return{errors:a}}(i,e)).errors;return{errors:u,valid:!u.length}}async function $(e,t,n){const r=(a=n.name,u[a]);var a;if(!r)throw new Error(`No such validator '${n.name}' exists.`);const i=function(e,t){const n=e=>d(e)?e(t):e;if(Array.isArray(e))return e.map(n);return Object.keys(e).reduce(((t,r)=>(t[r]=n(e[r]),t)),{})}(n.params,e.formData),o={field:e.name,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:i})},l=await r(t,i,o);return"string"==typeof l?{error:l}:{error:l?void 0:D(o)}}function D(e){const t=x().generateMessage;return t?t(e):"Field is invalid"}async function U(e,t,n){const r=w(e).map((async r=>{var a,i,u;const o=await _(b(t,r),e[r],{name:(null===(a=null==n?void 0:n.names)||void 0===a?void 0:a[r])||r,values:t,bails:null===(u=null===(i=null==n?void 0:n.bailsMap)||void 0===i?void 0:i[r])||void 0===u||u});return Object.assign(Object.assign({},o),{path:r})}));let a=!0;const i=await Promise.all(r),u={},o={};for(const e of i)u[e.path]={valid:e.valid,errors:e.errors},e.valid||(a=!1,o[e.path]=e.errors[0]);return{valid:a,results:u,errors:o}}function q(e){if("object"!=typeof e)return e;var t,n,r=Object.prototype.toString.call(e);if("[object Object]"===r){if(e.constructor!==Object&&"function"==typeof e.constructor)for(t in n=new e.constructor,e)n.hasOwnProperty(t)&&n[t]!==e[t]&&(n[t]=q(e[t]));else for(t in n={},e)"__proto__"===t?Object.defineProperty(n,t,{value:q(e[t]),configurable:!0,enumerable:!0,writable:!0}):n[t]=q(e[t]);return n}if("[object Array]"===r){for(t=e.length,n=Array(t);t--;)n[t]=q(e[t]);return n}return"[object Date]"===r?new Date(+e):"[object RegExp]"===r?((n=new RegExp(e.source,e.flags)).lastIndex=e.lastIndex,n):e}var z=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,a,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(a=r;0!=a--;)if(!e(t[a],n[a]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(a of t.entries())if(!n.has(a[0]))return!1;for(a of t.entries())if(!e(a[1],n.get(a[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(a of t.entries())if(!n.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(a=r;0!=a--;)if(t[a]!==n[a])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=r;0!=a--;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=r;0!=a--;){var u=i[a];if(!e(t[u],n[u]))return!1}return!0}return t!=t&&n!=n};let L=0;function H(e,n){const{value:r,initialValue:a,setInitialValue:i}=function(e,n,r){const a=r?j(o,void 0):void 0,i=t.ref(t.unref(n));function u(){return a?b(a.meta.value.initialValues,t.unref(e),t.unref(i)):t.unref(i)}function l(n){a?a.setFieldInitialValue(t.unref(e),n):i.value=n}const s=t.computed(u);if(!a){return{value:t.ref(u()),initialValue:s,setInitialValue:l}}const d=n?t.unref(n):b(a.values,t.unref(e),t.unref(s));a.stageInitialValue(t.unref(e),d);return{value:t.computed({get:()=>b(a.values,t.unref(e)),set(n){a.setFieldValue(t.unref(e),n)}}),initialValue:s,setInitialValue:l}}(e,n.modelValue,!n.standalone),{errorMessage:u,errors:l,setErrors:s}=function(e,n){const r=n?j(o,void 0):void 0;function a(e){return e?Array.isArray(e)?e:[e]:[]}if(!r){const e=t.ref([]);return{errors:e,errorMessage:t.computed((()=>e.value[0])),setErrors:t=>{e.value=a(t)}}}const i=t.computed((()=>r.errorBag.value[t.unref(e)]||[]));return{errors:i,errorMessage:t.computed((()=>i.value[0])),setErrors:n=>{r.setFieldErrorBag(t.unref(e),a(n))}}}(e,!n.standalone),d=function(e,n,r){const a=t.reactive({touched:!1,pending:!1,valid:!0,validated:!!t.unref(r).length,initialValue:t.computed((()=>t.unref(n))),dirty:t.computed((()=>!z(t.unref(e),t.unref(n))))});return t.watch(r,(e=>{a.valid=!e.length}),{immediate:!0,flush:"sync"}),a}(r,a,l);return{id:L>=Number.MAX_SAFE_INTEGER?0:++L,path:e,value:r,initialValue:a,meta:d,errors:l,errorMessage:u,setState:function(e){var t;"value"in e&&(r.value=e.value),"errors"in e&&s(e.errors),"touched"in e&&(d.touched=null!==(t=e.touched)&&void 0!==t?t:d.touched),"initialValue"in e&&i(e.initialValue)}}}function K(e,n,r){return f(null==r?void 0:r.type)?function(e,n,r){const a=(null==r?void 0:r.standalone)?void 0:j(o),i=null==r?void 0:r.checkedValue,u=null==r?void 0:r.uncheckedValue;function l(e){const n=e.originalHandleChange||e.handleChange,r=t.computed((()=>{const n=t.unref(e.value),r=t.unref(i);return Array.isArray(n)?n.includes(r):r===n}));function o(o,l=!0){var s,d;if(r.value===(null===(d=null===(s=o)||void 0===s?void 0:s.target)||void 0===d?void 0:d.checked))return;let c=I(o);a||(c=S(t.unref(e.value),t.unref(i),t.unref(u))),n(c,l)}return t.onBeforeUnmount((()=>{r.value&&o(t.unref(i),!1)})),Object.assign(Object.assign({},e),{checked:r,checkedValue:i,uncheckedValue:u,originalHandleChange:n,handleChange:o})}if(!a)return l(G(e,n,r));const s=a.fieldsByPath.value[t.unref(e)];if(!s)return l(G(e,n,r));return s.instances++,l(s)}(e,n,r):G(e,n,r)}function G(e,r,a){const{initialValue:i,validateOnMount:u,bails:s,type:f,checkedValue:v,label:m,validateOnValueUpdate:p,uncheckedValue:h,standalone:y}=function(e,t){const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,rules:"",label:e,validateOnValueUpdate:!0,standalone:!1});if(!t)return n();const r="valueProp"in t?t.valueProp:t.checkedValue;return Object.assign(Object.assign(Object.assign({},n()),t||{}),{checkedValue:r})}(t.unref(e),a),g=y?void 0:j(o),{id:F,value:V,initialValue:O,meta:A,setState:E,errors:S,errorMessage:k}=H(e,{modelValue:i,standalone:y}),B=t.computed((()=>{let a=t.unref(r);const i=t.unref(null==g?void 0:g.schema);return i&&!c(i)&&(a=function(e,t){if(!e)return;return e[t]}(i,t.unref(e))||a),c(a)||n(a)?a:C(a)}));async function M(n){var r,a;return(null==g?void 0:g.validateSchema)?null!==(r=(await g.validateSchema(n)).results[t.unref(e)])&&void 0!==r?r:{valid:!0,errors:[]}:_(V.value,B.value,{name:t.unref(m)||t.unref(e),values:null!==(a=null==g?void 0:g.values)&&void 0!==a?a:{},bails:s})}async function T(){A.pending=!0,A.validated=!0;const e=await M("validated-only");return E({errors:e.errors}),A.pending=!1,e}async function R(){const e=await M("silent");return A.valid=e.valid,e}let P;function x(){P=t.watch(V,p?T:R,{deep:!0})}function N(e){var n;null==P||P();const r=e&&"value"in e?e.value:O.value;E({value:q(r),initialValue:q(r),touched:null!==(n=null==e?void 0:e.touched)&&void 0!==n&&n,errors:(null==e?void 0:e.errors)||[]}),A.pending=!1,A.validated=!1,R(),t.nextTick((()=>{x()}))}t.onMounted((()=>{if(u)return T();g&&g.validateSchema||R()})),x();const $={id:F,name:e,label:m,value:V,meta:A,errors:S,errorMessage:k,type:f,checkedValue:v,uncheckedValue:h,bails:s,instances:1,resetField:N,handleReset:()=>N(),validate:function(e){return(null==e?void 0:e.mode)&&"force"!==(null==e?void 0:e.mode)?"validated-only"===(null==e?void 0:e.mode)?T():R():T()},handleChange:(e,t=!0)=>{const n=I(e);V.value=n,!p&&t&&T()},handleBlur:()=>{A.touched=!0},setState:E,setTouched:function(e){A.touched=e},setErrors:function(e){E({errors:Array.isArray(e)?e:[e]})},setValue:function(e){V.value=e}};if(t.provide(l,$),t.isRef(r)&&"function"!=typeof t.unref(r)&&t.watch(r,((e,t)=>{if(!z(e,t))return T()}),{deep:!0}),!g)return $;g.register($),t.onBeforeUnmount((()=>{g.unregister($)}));const D=t.computed((()=>{const e=B.value;return!e||n(e)||c(e)?{}:Object.keys(e).reduce(((t,n)=>{const r=(a=e[n],Array.isArray(a)?a.filter(d):w(a).filter((e=>d(a[e]))).map((e=>a[e]))).map((e=>e.__locatorRef)).reduce(((e,t)=>{const n=b(g.values,t)||g.values[t];return void 0!==n&&(e[t]=n),e}),{});var a;return Object.assign(t,r),t}),{})}));return t.watch(D,((e,t)=>{if(!Object.keys(e).length)return;!z(e,t)&&(A.dirty?T():R())})),$}const X=t.defineComponent({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>x().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:s},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1}},setup(e,n){const r=t.toRef(e,"rules"),a=t.toRef(e,"name"),i=t.toRef(e,"label"),u=t.toRef(e,"uncheckedValue"),o=y(e,"onUpdate:modelValue"),{errors:l,value:d,errorMessage:c,validate:v,handleChange:m,handleBlur:h,setTouched:g,resetField:b,handleReset:F,meta:V,checked:O,setErrors:w}=K(a,r,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:n.attrs.type,initialValue:Q(e,n),checkedValue:n.attrs.value,uncheckedValue:u,label:i,validateOnValueUpdate:!1}),j=o?function(e,t=!0){m(e,t),n.emit("update:modelValue",d.value)}:m,A=e=>{f(n.attrs.type)||(d.value=I(e))},E=o?function(e){A(e),n.emit("update:modelValue",d.value)}:A,S=t.computed((()=>{const{validateOnInput:t,validateOnChange:r,validateOnBlur:a,validateOnModelUpdate:i}=function(e){var t,n,r,a;const{validateOnInput:i,validateOnChange:u,validateOnBlur:o,validateOnModelUpdate:l}=x();return{validateOnInput:null!==(t=e.validateOnInput)&&void 0!==t?t:i,validateOnChange:null!==(n=e.validateOnChange)&&void 0!==n?n:u,validateOnBlur:null!==(r=e.validateOnBlur)&&void 0!==r?r:o,validateOnModelUpdate:null!==(a=e.validateOnModelUpdate)&&void 0!==a?a:l}}(e),u=[h,n.attrs.onBlur,a?v:void 0].filter(Boolean),o=[e=>j(e,t),n.attrs.onInput].filter(Boolean),l=[e=>j(e,r),n.attrs.onChange].filter(Boolean),s={name:e.name,onBlur:u,onInput:o,onChange:l};i&&(s["onUpdate:modelValue"]=[j]),f(n.attrs.type)&&O?s.checked=O.value:s.value=d.value;return p(J(e,n),n.attrs)&&delete s.value,s})),B=t.toRef(e,"modelValue");function M(){return{field:S.value,value:d.value,meta:V,errors:l.value,errorMessage:c.value,validate:v,resetField:b,handleChange:j,handleInput:E,handleReset:F,handleBlur:h,setTouched:g,setErrors:w}}return t.watch(B,(t=>{t===s&&void 0===d.value||t!==function(e,t){if(t.number)return function(e){const t=parseFloat(e);return isNaN(t)?e:t}(e);return e}(d.value,e.modelModifiers)&&(d.value=t===s?void 0:t,v())})),n.expose({setErrors:w,setTouched:g,reset:b,validate:v,handleChange:m}),()=>{const r=t.resolveDynamicComponent(J(e,n)),a=k(r,n,M);return r?t.h(r,Object.assign(Object.assign({},n.attrs),S.value),a):a}}});function J(e,t){let n=e.as||"";return e.as||t.slots.default||(n="input"),n}function Q(e,t){return f(t.attrs.type)?y(e,"modelValue")?e.modelValue:void 0:y(e,"modelValue")?e.modelValue:t.attrs.value}let W=0;function Y(e){const n=W++,r=t.ref({}),a=t.ref(!1),i=t.ref(0),u=t.reactive(q(t.unref(null==e?void 0:e.initialValues)||{})),{errorBag:l,setErrorBag:s,setFieldErrorBag:d}=function(e){const n=t.ref({});function r(e){return Array.isArray(e)?e:e?[e]:[]}function a(e,t){t?n.value[e]=r(t):delete n.value[e]}function i(e){n.value=w(e).reduce(((t,n)=>{const a=e[n];return a&&(t[n]=r(a)),t}),{})}e&&i(e);return{errorBag:n,setErrorBag:i,setFieldErrorBag:a}}(null==e?void 0:e.initialErrors),f=t.computed((()=>w(l.value).reduce(((e,t)=>{const n=l.value[t];return n&&n.length&&(e[t]=n[0]),e}),{}))),v=t.computed((()=>w(r.value).reduce(((e,n)=>{const a=r.value[n];return a&&(e[n]=t.unref(a.label||a.name)||""),e}),{}))),m=t.computed((()=>w(r.value).reduce(((e,t)=>{var n;const a=r.value[t];return a&&(e[t]=null===(n=a.bails)||void 0===n||n),e}),{}))),p=Object.assign({},(null==e?void 0:e.initialErrors)||{}),{readonlyInitialValues:y,initialValues:g,setInitialValues:V}=function(e,n,r){const a=t.ref(t.unref(r)||{}),i=t.computed((()=>a.value));function u(t,r=!1){a.value=q(t),r&&w(e.value).forEach((t=>{const r=e.value[t];if(!r||r.meta.touched)return;const i=b(a.value,t);F(n,t,i)}))}t.isRef(r)&&t.watch(r,(e=>{u(e,!0)}),{deep:!0});return{readonlyInitialValues:i,initialValues:a,setInitialValues:u}}(r,u,null==e?void 0:e.initialValues),j=function(e,n,r,a){const i={touched:"some",pending:"some",valid:"every"},u=t.computed((()=>!z(n,t.unref(r)))),o=t.computed((()=>{const t=Object.values(e.value).filter(Boolean);return w(i).reduce(((e,n)=>{const r=i[n];return e[n]=t[r]((e=>e.meta[n])),e}),{})}));return t.computed((()=>Object.assign(Object.assign({initialValues:t.unref(r)},o.value),{valid:o.value.valid&&!w(a.value).length,dirty:u.value})))}(r,u,y,f),A=null==e?void 0:e.validationSchema,E={formId:n,fieldsByPath:r,values:u,errorBag:l,errors:f,schema:A,submitCount:i,meta:j,isSubmitting:a,validateSchema:t.unref(A)?async function(e){const t=await H(),n=E.fieldsByPath.value||{},r=w(E.errorBag.value);return[...new Set([...w(t.results),...w(n),...r])].reduce(((r,a)=>{const i=n[a],u=(t.results[a]||{errors:[]}).errors,o={errors:u,valid:!u.length};if(r.results[a]=o,o.valid||(r.errors[a]=o.errors[0]),!i)return k(a,u),r;if(i.meta.valid=o.valid,"silent"===e)return r;const l=Array.isArray(i)?i.some((e=>e.meta.validated)):i.meta.validated;return"validated-only"!==e||l?(i.setState({errors:o.errors}),r):r}),{valid:t.valid,results:{},errors:{}})}:void 0,validate:_,register:function(e){const n=t.unref(e.name);P(e,n),t.isRef(e.name)&&t.watch(e.name,(async(n,r)=>{const a=e.value.value;await t.nextTick(),x(e,r),P(e,n),M(n,a),(f.value[r]||f.value[n])&&$(n),N(r)||O(u,r)}));const r=t.unref(e.errorMessage);r&&(null==p?void 0:p[n])!==r&&$(n);delete p[n]},unregister:function(e){const n=t.unref(e.name),a=r.value[n];if(a&&a.id!==e.id)return;e.instances--,e.instances<=0&&x(e,n);t.nextTick((()=>{N(n)||(k(n,void 0),O(u,n))}))},setFieldErrorBag:d,validateField:$,setFieldValue:M,setValues:I,setErrors:B,setFieldError:k,setFieldTouched:C,setTouched:T,resetForm:R,handleSubmit:D,stageInitialValue:function(e,t){F(u,e,t),L(e,t)},unsetInitialValue:function(e){O(g.value,e)},setFieldInitialValue:L};function k(e,t){d(e,t)}function B(e){s(e)}function M(e,n,{force:a}={force:!1}){const i=r.value[e],o=q(n);if(!i)return void F(u,e,o);if("checkbox"===i.type&&i.instances>1&&!Array.isArray(n)){const t=q(S(b(u,e)||[],n,void 0));return void F(u,e,t)}let l=n;"checkbox"!==i.type||1!==i.instances||a||(l=q(S(b(u,e),n,t.unref(i.uncheckedValue)))),F(u,e,l)}function I(e){w(u).forEach((e=>{delete u[e]})),w(e).forEach((t=>{M(t,e[t])}))}function C(e,t){const n=r.value[e];null==n||n.setTouched(t)}function T(e){w(e).forEach((t=>{C(t,!!e[t])}))}function R(e){(null==e?void 0:e.values)?(V(e.values),I(null==e?void 0:e.values)):I(g.value),Object.values(r.value).forEach((e=>e&&e.resetField())),(null==e?void 0:e.touched)&&T(e.touched),B((null==e?void 0:e.errors)||{}),i.value=(null==e?void 0:e.submitCount)||0}function P(e,n){const a=t.markRaw(e),i=n;r.value[i]=a}function x(e,t){const n=t,a=r.value[n];N(t)&&e.id===(null==a?void 0:a.id)&&delete r.value[n]}function N(e){return!!r.value[e]}async function _(e){if(E.validateSchema)return E.validateSchema((null==e?void 0:e.mode)||"force");const n=await Promise.all(Object.values(r.value).map((n=>n?n.validate(e).then((e=>({key:t.unref(n.name),valid:e.valid,errors:e.errors}))):Promise.resolve({key:"",valid:!0,errors:[]})))),a={},i={};for(const e of n)a[e.key]={valid:e.valid,errors:e.errors},e.errors.length&&(i[e.key]=e.errors[0]);return{valid:n.every((e=>e.valid)),results:a,errors:i}}async function $(e){const n=r.value[e];return n?Array.isArray(n)?n.map((e=>e.validate()))[0]:n.validate():(t.warn(`field with name ${e} was not found`),Promise.resolve({errors:[],valid:!0}))}function D(e){return function(t){return t instanceof Event&&(t.preventDefault(),t.stopPropagation()),T(w(r.value).reduce(((e,t)=>(e[t]=!0,e)),{})),a.value=!0,i.value++,_().then((n=>{if(n.valid&&"function"==typeof e)return e(q(u),{evt:t,setErrors:B,setFieldError:k,setTouched:T,setFieldTouched:C,setValues:I,setFieldValue:M,resetForm:R})})).then((e=>(a.value=!1,e)),(e=>{throw a.value=!1,e}))}}function L(e,t){F(g.value,e,q(t))}const H=function(e,t=0){let n=null,r=[];return function(...a){return n&&window.clearTimeout(n),n=window.setTimeout((()=>{const t=e(...a);r.forEach((e=>e(t))),r=[]}),t),new Promise((e=>r.push(e)))}}((async function(){const e=t.unref(A);return e?c(e)?await async function(e,t){const n=await e.validate(t,{abortEarly:!1}).then((()=>[])).catch((e=>{if("ValidationError"!==e.name)throw e;return e.inner||[]})),r={},a={};for(const e of n){const t=e.errors;r[e.path]={valid:!t.length,errors:t},t.length&&(a[e.path]=t[0])}return{valid:!n.length,results:r,errors:a}}(e,u):await U(e,u,{names:v.value,bailsMap:m.value}):{valid:!0,results:{},errors:{}}}),5);const K=D(((e,{evt:t})=>{(function(e){return h(e)&&e.target&&"submit"in e.target})(t)&&t.target.submit()}));return t.onMounted((()=>{(null==e?void 0:e.initialErrors)&&B(e.initialErrors),(null==e?void 0:e.initialTouched)&&T(e.initialTouched),(null==e?void 0:e.validateOnMount)?_():E.validateSchema&&E.validateSchema("silent")})),t.isRef(A)&&t.watch(A,(()=>{var e;null===(e=E.validateSchema)||void 0===e||e.call(E,"validated-only")})),t.provide(o,E),{errors:f,meta:j,values:u,isSubmitting:a,submitCount:i,validate:_,validateField:$,handleReset:()=>R(),resetForm:R,handleSubmit:D,submitForm:K,setFieldError:k,setErrors:B,setFieldValue:M,setValues:I,setFieldTouched:C,setTouched:T}}const Z=t.defineComponent({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0}},setup(e,n){const r=t.toRef(e,"initialValues"),a=t.toRef(e,"validationSchema"),{errors:i,values:u,meta:o,isSubmitting:l,submitCount:s,validate:d,validateField:c,handleReset:f,resetForm:v,handleSubmit:m,submitForm:p,setErrors:y,setFieldError:g,setFieldValue:b,setValues:F,setFieldTouched:V,setTouched:O}=Y({validationSchema:a.value?a:void 0,initialValues:r,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount}),w=e.onSubmit?m(e.onSubmit):p;function j(e){h(e)&&e.preventDefault(),f(),"function"==typeof n.attrs.onReset&&n.attrs.onReset()}function A(e,t){return m("function"!=typeof e||t?t:e)(e)}function E(){return{meta:o.value,errors:i.value,values:u,isSubmitting:l.value,submitCount:s.value,validate:d,validateField:c,handleSubmit:A,handleReset:f,submitForm:p,setErrors:y,setFieldError:g,setFieldValue:b,setValues:F,setFieldTouched:V,setTouched:O,resetForm:v}}return n.expose({setFieldError:g,setErrors:y,setFieldValue:b,setValues:F,setFieldTouched:V,setTouched:O,resetForm:v,validate:d,validateField:c}),function(){const r="form"===e.as?e.as:t.resolveDynamicComponent(e.as),a=k(r,n,E);if(!e.as)return a;const i="form"===e.as?{novalidate:!0}:{};return t.h(r,Object.assign(Object.assign(Object.assign({},i),n.attrs),{onSubmit:w,onReset:j}),a)}}});function ee(e){const n=j(o,void 0),a=t.ref([]),i=()=>{},u={entries:t.readonly(a),remove:i,push:i,swap:i,insert:i};if(!n)return A("FieldArray requires being a child of `<Form/>` or `useForm` being called before it. Array fields may not work correctly"),u;if(!t.unref(e.name))return A("FieldArray requires a field path to be provided, did you forget to pass the `name` prop?"),u;if(!t.unref(e.keyPath))return A("FieldArray requires a key path to be provided, did you forget to pass the `keyPath` prop?"),u;return t.watch((()=>b(null==n?void 0:n.values,t.unref(e.name),[])),(n=>{a.value=n.map(((r,a)=>Object.assign(Object.assign({},function(n,r){return{key:b(n,t.unref(e.keyPath),r),value:n,isFirst:!1,isLast:!1}}(r,a)),{isFirst:0===a,isLast:n.length-1===a})))}),{immediate:!0}),{entries:t.readonly(a),remove:function(r){const a=t.unref(e.name),i=b(null==n?void 0:n.values,a);if(!i||!Array.isArray(i))return;const u=[...i];u.splice(r,1),null==n||n.unsetInitialValue(a+`[${r}]`),null==n||n.setFieldValue(a,u)},push:function(a){const i=t.unref(e.name),u=b(null==n?void 0:n.values,i),o=r(u)?[]:u;if(!Array.isArray(o))return;const l=[...o];l.push(a),null==n||n.stageInitialValue(i+`[${l.length-1}]`,a),null==n||n.setFieldValue(i,l)},swap:function(r,a){const i=t.unref(e.name),u=b(null==n?void 0:n.values,i);if(!Array.isArray(u)||!u[r]||!u[a])return;const o=[...u],l=o[r];o[r]=o[a],o[a]=l,null==n||n.setFieldValue(i,o)},insert:function(r,a){const i=t.unref(e.name),u=b(null==n?void 0:n.values,i);if(!Array.isArray(u)||u.length-1<r)return;const o=[...u];o.splice(r,0,a),null==n||n.setFieldValue(i,o)}}}const te=t.defineComponent({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0},keyPath:{type:String,required:!0}},setup(e,n){const{push:r,remove:a,swap:i,insert:u,entries:o}=ee(t.toRefs(e));function l(){return{entries:o.value,push:r,remove:a,swap:i,insert:u}}return n.expose({push:r,remove:a,swap:i,insert:u}),()=>k(void 0,n,l)}}),ne=t.defineComponent({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,n){const r=t.inject(o,void 0),a=t.computed((()=>null==r?void 0:r.errors.value[e.name]));function i(){return{message:a.value}}return()=>{if(!a.value)return;const r=e.as?t.resolveDynamicComponent(e.as):e.as,u=k(r,n,i),o=Object.assign({role:"alert"},n.attrs);return r||!Array.isArray(u)&&u||!(null==u?void 0:u.length)?!Array.isArray(u)&&u||(null==u?void 0:u.length)?t.h(r,o,u):t.h(r||"span",o,a.value):u}}});e.ErrorMessage=ne,e.Field=X,e.FieldArray=te,e.FieldContextKey=l,e.Form=Z,e.FormContextKey=o,e.configure=N,e.defineRule=function(e,t){!function(e,t){if(n(t))return;throw new Error(`Extension Error: The validator '${e}' must be a function.`)}(e,t),u[e]=t},e.useField=K,e.useFieldArray=ee,e.useFieldError=function(e){const n=j(o),r=e?void 0:t.inject(l);return t.computed((()=>e?null==n?void 0:n.errors.value[t.unref(e)]:null==r?void 0:r.errorMessage.value))},e.useFieldValue=function(e){const n=j(o),r=e?void 0:t.inject(l);return{value:t.computed((()=>{var a;return e?b(null==n?void 0:n.values,t.unref(e)):null===(a=null==r?void 0:r.value)||void 0===a?void 0:a.value})),setValue:function(a){e?null==n||n.setFieldValue(t.unref(e),a):null==r||r.setValue(a)}}},e.useForm=Y,e.useFormErrors=function(){const e=j(o);return e||A("No vee-validate <Form /> or `useForm` was detected in the component tree"),t.computed((()=>(null==e?void 0:e.errors.value)||{}))},e.useFormValues=function(){const e=j(o);return e||A("No vee-validate <Form /> or `useForm` was detected in the component tree"),{values:t.computed((()=>(null==e?void 0:e.values)||{})),setFieldValue:function(t,n){null==e||e.setFieldValue(t,n)},setValues:function(t){null==e||e.setValues(t)}}},e.useIsFieldDirty=function(e){const n=j(o);let r=e?void 0:t.inject(l);return t.computed((()=>(e&&(r=E(null==n?void 0:n.fieldsByPath.value[t.unref(e)])),r?r.meta.dirty:(A(`field with name ${t.unref(e)} was not found`),!1))))},e.useIsFieldTouched=function(e){const n=j(o);let r=e?void 0:t.inject(l);return t.computed((()=>(e&&(r=E(null==n?void 0:n.fieldsByPath.value[t.unref(e)])),r?r.meta.touched:(A(`field with name ${t.unref(e)} was not found`),!1))))},e.useIsFieldValid=function(e){const n=j(o);let r=e?void 0:t.inject(l);return t.computed((()=>(e&&(r=E(null==n?void 0:n.fieldsByPath.value[t.unref(e)])),r?r.meta.valid:(A(`field with name ${t.unref(e)} was not found`),!1))))},e.useIsFormDirty=function(){const e=j(o);return e||A("No vee-validate <Form /> or `useForm` was detected in the component tree"),t.computed((()=>{var t;return null!==(t=null==e?void 0:e.meta.value.dirty)&&void 0!==t&&t}))},e.useIsFormTouched=function(){const e=j(o);return e||A("No vee-validate <Form /> or `useForm` was detected in the component tree"),t.computed((()=>{var t;return null!==(t=null==e?void 0:e.meta.value.touched)&&void 0!==t&&t}))},e.useIsFormValid=function(){const e=j(o);return e||A("No vee-validate <Form /> or `useForm` was detected in the component tree"),t.computed((()=>{var t;return null!==(t=null==e?void 0:e.meta.value.valid)&&void 0!==t&&t}))},e.useIsSubmitting=function(){const e=j(o);return e||A("No vee-validate <Form /> or `useForm` was detected in the component tree"),t.computed((()=>{var t;return null!==(t=null==e?void 0:e.isSubmitting.value)&&void 0!==t&&t}))},e.useResetForm=function(){const e=j(o);return e||A("No vee-validate <Form /> or `useForm` was detected in the component tree"),function(t){if(e)return e.resetForm(t)}},e.useSubmitCount=function(){const e=j(o);return e||A("No vee-validate <Form /> or `useForm` was detected in the component tree"),t.computed((()=>{var t;return null!==(t=null==e?void 0:e.submitCount.value)&&void 0!==t?t:0}))},e.useSubmitForm=function(e){const t=j(o);t||A("No vee-validate <Form /> or `useForm` was detected in the component tree");const n=t?t.handleSubmit(e):void 0;return function(e){if(n)return n(e)}},e.useValidateField=function(e){const n=j(o);let r=e?void 0:t.inject(l);return function(){return e&&(r=E(null==n?void 0:n.fieldsByPath.value[t.unref(e)])),r?r.validate():(A(`field with name ${t.unref(e)} was not found`),Promise.resolve({errors:[],valid:!0}))}},e.useValidateForm=function(){const e=j(o);return e||A("No vee-validate <Form /> or `useForm` was detected in the component tree"),function(){return e?e.validate():Promise.resolve({results:{},errors:{},valid:!0})}},e.validate=_,Object.defineProperty(e,"__esModule",{value:!0})}));