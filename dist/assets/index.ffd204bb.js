var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,i=(a,l,o)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[l]=o,n=(e,a)=>{for(var l in a||(a={}))s.call(a,l)&&i(e,l,a[l]);if(o)for(var l of o(a))t.call(a,l)&&i(e,l,a[l]);return e};import{o as c,p as r,c as d,h as v}from"./index.d7dc1ff6.js";import{_ as u}from"./Datatable.aae3ef08.js";import{_ as m}from"./VPlaceholderSection.vue_vue&type=script&setup=true&lang.35b0ad2a.js";import{_ as p}from"./VModal.31b4f4ba.js";import{u as h}from"./useGuardCoach.2473a459.js";import{u as y}from"./useCoachApi.4bab1366.js";import{u as f}from"./usePaginationRoute.780ca235.js";import{q as C,r as L,Y as b,ae as g,d as k,b as j,A as w,X as _,E as I,o as O,e as P,x as V,au as R,g as x,F as D,h as q,i as N,p as A,G as E,a as S}from"./vendor.1c8b4573.js";import"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import"./VLoader.vue_vue&type=script&setup=true&lang.a96d7daf.js";import"./VFlexPagination.86ce707c.js";import"./search-4-dark.fb3880a5.js";function B(){const e=C({data:[],readonly:!1,coachLevelId:0,coachLevelName:"",total:0,isLoading:!0,onSaveCoachLevel:!1}),o=L([{key:"id",label:"ID",isRaw:!0},{key:"orders",label:"Orders",isCenter:!0,isRaw:!0},{key:"name",label:"Name",isRaw:!0}]),{currentPage:s,perPage:t,search:i}=f(),{getAllCoachLevels:r,deleteCoachLevel:d,getCoachLevelById:v}=y(),u=async()=>{e.isLoading=!0;const a=await r({currentPage:s,perPage:t,search:i});a&&(e.data=a.data,e.total=a.total),e.isLoading=!1};return b((()=>{u()})),m=n({},g(e)),a(m,l({headers:o,fetchCoachLevels:u,confirmDeleteCoachLevel:async e=>{const a=await d(e);c(a,"Coach Level was deleted!"),await u()},setCoachLevelId:async a=>{e.coachLevelId=a},setReadOnly:async a=>{e.readonly=a},setCoachLevelNameById:async a=>{const l=await v(parseInt(`${a}`));e.coachLevelName=null==l?void 0:l.name}}));var m}A("data-v-70a1633b");const F={class:"is-flex is-justify-content-flex-end pt-4"},$=E(" Create "),G={key:0,class:"dark-inverted is-flex is-justify-content-flex-end"},M=E(" Actions "),Y=["onClick"],z=[q("div",{class:"icon"},[q("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1),q("div",{class:"meta"},[q("span",null,"View"),q("span",null,"View Coach Level")],-1)],U=["onClick"],W=[q("div",{class:"icon"},[q("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1),q("div",{class:"meta"},[q("span",null,"Edit"),q("span",null,"Edit Coach Level")],-1)],X={key:2,class:"dropdown-divider"},H=["onClick"],J=[q("div",{class:"icon"},[q("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),q("div",{class:"meta"},[q("span",null,"Remove"),q("span",null,"Remove Coach Level")],-1)],K=E("Confirm"),Q=E("Cancel");S();var T=k({setup(e){const{data:a,coachLevelId:l,coachLevelName:o,headers:s,readonly:t,total:i,isLoading:c,fetchCoachLevels:y,setCoachLevelId:f,confirmDeleteCoachLevel:C,setReadOnly:b,setCoachLevelNameById:g}=B(),{levels:k,haveActionLevelButton:A}=h(),E=j(),S=w();r.value="Coach Levels",_({title:"Whitehouse: Coaches"});const T=L(!1),Z=L(!1),ee=L(!0),ae=()=>{E.push({name:"coaches-levels-create",query:n({},S.query)})};return(e,r)=>{const h=d,L=v,b=u,j=I("ModalCoachLevel"),w=m,_=p;return O(),P("div",null,[V(b,{key:x(c),"is-loading":x(c),"search-placeholder":"search by id, name",headers:x(s),data:x(a),total:x(i),"is-action":x(A)},R({action:D((({value:e})=>[x(A)?(O(),P("div",G,[V(L,{spaced:"",right:""},{button:D((({toggle:e})=>[V(h,{icon:"feather:more-vertical",class:"is-trigger",onClick:e},{default:D((()=>[M])),_:2},1032,["onClick"])])),content:D((()=>[x(k).canViewLevel?(O(),P("a",{key:0,role:"menuitem",class:"dropdown-item is-media",onClick:a=>{return l=e.id,void E.push({name:"coaches-levels-:id",query:n({},S.query),params:{id:l}});var l}},z,8,Y)):N("",!0),x(k).canEditLevel?(O(),P("a",{key:1,role:"menuitem",class:"dropdown-item is-media",onClick:a=>{return l=e.id,void E.push({name:"coaches-levels-:id",query:n({},S.query),params:{id:l},hash:"#edit"});var l}},W,8,U)):N("",!0),x(k).canDeleteLevel?(O(),P("hr",X)):N("",!0),x(k).canDeleteLevel?(O(),P("a",{key:3,role:"menuitem",class:"dropdown-item is-media",onClick:a=>{return l=e.id,T.value=!0,g(l),void f(l);var l}},J,8,H)):N("",!0)])),_:2},1024)])):N("",!0)])),_:2},[x(k).canCreateLevel?{name:"custom-right",fn:D((()=>[q("div",F,[V(h,{color:"primary",icon:"fas fa-plus",onClick:ae},{default:D((()=>[$])),_:1})])]))}:void 0]),1032,["is-loading","headers","data","total","is-action"]),V(j,{key:x(l),modelValue:Z.value,"onUpdate:modelValue":r[0]||(r[0]=e=>Z.value=e),"coach-level-id":x(l),"clear-on-open":ee.value,readonly:x(t),onSaved:x(y)},null,8,["modelValue","coach-level-id","clear-on-open","readonly","onSaved"]),V(_,{key:x(l),title:"Confirm Remove Coach Level",open:T.value,size:"small",actions:"center",onClose:r[3]||(r[3]=e=>T.value=!1)},{content:D((()=>[V(w,{subtitle:`You want to remove Coach Level ID (${x(l)}) : ${x(o)}`},null,8,["subtitle"])])),action:D((()=>[V(h,{color:"primary",raised:"",onClick:r[1]||(r[1]=e=>{T.value=!1,x(C)(x(l))})},{default:D((()=>[K])),_:1})])),cancel:D((()=>[V(h,{raised:"",onClick:r[2]||(r[2]=e=>T.value=!1)},{default:D((()=>[Q])),_:1})])),_:1},8,["open"])])}}});T.__scopeId="data-v-70a1633b";export default T;
