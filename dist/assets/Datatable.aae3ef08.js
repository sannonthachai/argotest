var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,n=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&i(e,t,a[t]);if(l)for(var t of l(a))o.call(a,t)&&i(e,t,a[t]);return e},r=(e,l)=>a(e,t(l));import{_ as d,a as c}from"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import{h as u,c as p}from"./index.d7dc1ff6.js";import{o as m,y as f,F as y,h,p as v,a as g,d as b,b as k,A as w,r as $,k as j,S as P,E as x,e as _,f as S,i as V,K as A,V as O,x as C,ai as B,aj as E,H as F,I as H,t as R,ak as I,n as q,g as z,G as U}from"./vendor.1c8b4573.js";import{_ as L}from"./VPlaceholderSection.vue_vue&type=script&setup=true&lang.35b0ad2a.js";import{_ as N}from"./VLoader.vue_vue&type=script&setup=true&lang.a96d7daf.js";import{_ as D}from"./VFlexPagination.86ce707c.js";import{_ as K,a as M}from"./search-4-dark.fb3880a5.js";import{u as G}from"./usePaginationRoute.780ca235.js";const T={},J=h("a",{role:"menuitem",href:"#",class:"dropdown-item is-media"},[h("div",{class:"icon"},[h("i",{"aria-hidden":"true",class:"lnil lnil-eye"})]),h("div",{class:"meta"},[h("span",null,"View"),h("span",null,"View user details")])],-1),Q=h("a",{role:"menuitem",href:"#",class:"dropdown-item is-media"},[h("div",{class:"icon"},[h("i",{"aria-hidden":"true",class:"lnil lnil-briefcase"})]),h("div",{class:"meta"},[h("span",null,"Projects"),h("span",null,"View user projects")])],-1),W=h("a",{role:"menuitem",href:"#",class:"dropdown-item is-media"},[h("div",{class:"icon"},[h("i",{"aria-hidden":"true",class:"lnil lnil-calendar"})]),h("div",{class:"meta"},[h("span",null,"Schedule"),h("span",null,"Schedule a meeting")])],-1),X=h("hr",{class:"dropdown-divider"},null,-1),Y=h("a",{role:"menuitem",href:"#",class:"dropdown-item is-media"},[h("div",{class:"icon"},[h("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})]),h("div",{class:"meta"},[h("span",null,"Remove"),h("span",null,"Remove from list")])],-1);T.render=function(e,a){const t=u;return m(),f(t,{icon:"feather:more-vertical",class:"is-pushed-mobile",spaced:"",right:""},{content:y((()=>[J,Q,W,X,Y])),_:1})},v("data-v-4965a852");const Z={class:"flex-table-wrapper mt-4"},ee={key:0,class:"custom-slot"},ae={class:"left"},te=["placeholder"],le=["placeholder","onKeyup"],se={key:0,class:"mt-6"},oe=U("Export CSV"),ie={class:"right"},ne={class:"select is-rounded"},re=["value"],de=h("label",null,"Custom columns",-1),ce={key:1,class:"custom-content"},ue={class:"table is-hoverable is-fullwidth"},pe={key:0},me={key:0,scope:"col",class:"is-end col-action"},fe=[h("span",{class:"dark-inverted is-flex is-justify-content-flex-end"},"Actions",-1)],ye={key:0},he={key:0},ve={key:0},ge={key:0,class:"col-action"},be={class:"is-flex is-justify-content-flex-end"},ke={key:1},we=["colspan"],$e=h("img",{class:"light-image",src:K,alt:"light-empty"},null,-1),je=h("img",{class:"dark-image",src:M,alt:"dark-empty"},null,-1),Pe={class:"datatable-footer-wrapper"},xe={key:0,class:"showing-message"};g();var _e=b({props:{total:{type:Number,default:100},canSearchable:{type:Boolean,default:!0},searchPlaceholder:{type:String,default:"Filter..."},headers:{type:Object,required:!0},data:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!1},isAction:{type:Boolean,default:!1},customPerPageOption:{type:Array,default:()=>[10,25,50,100]},hidePagination:{type:Boolean,default:!1},hidePerPage:{type:Boolean,default:!1},defaultViewHeaders:{type:Array,default:()=>[]},canCustomHeader:{type:Boolean,default:!1},showItemOfEntires:{type:Boolean,default:!0},isAutoSearch:{type:Boolean,default:!1},canExport:{type:Boolean,default:!1},csvCustomData:{type:String,default:""},fileName:{type:String,default:"csv-download"},hideFooter:{type:Boolean,default:!1}},emits:["autoSearch"],setup(e,{emit:a}){const t=e,{currentPage:l,perPage:s,search:o}=G(),i=k(),u=w(),v=$(l||1),g=$(s||10),b=$(o||""),U=$(t.defaultViewHeaders||t.headers.map((e=>e.key))),K=j((()=>t.canCustomHeader?t.headers.filter((e=>U.value.some((a=>a===e.key)))):t.headers)),M=j((()=>Math.ceil(t.total/g.value)||1)),J=j((()=>{const e=(v.value-1)*g.value+1,a=M.value===v.value?t.total:g.value*v.value;return`Showing ${e} to ${a} of ${t.total||a} entries`})),Q=j((()=>t.data.length>0&&Array.isArray(t.data[0]))),W=e=>{const a=r(n({},u.query),{perPage:g.value});i.push({name:u.name||"index",params:u.params,query:a})},X=(e,a,t)=>{const l=a.split(".").reduce(((e,a)=>e[a]),e);return t?e:l},Y=()=>{i.push({query:r(n({},u.query),{page:1,search:b.value})})},_e=()=>{let e=t.csvCustomData;if(!e){const a=t.headers.filter((e=>"action"!==e.key)),l=t.data.map((e=>`"${a.map((a=>X(e,a.key,a.isRaw)||"-")).join('","')}"`));e=[`"${a.map((e=>e.label)).join('","')}"`,...l].join("\n")}var a="data:text/csv;charset=utf-8,"+encodeURI(e),l=document.createElement("a");l.setAttribute("href",a),l.setAttribute("download",t.fileName),document.body.appendChild(l),l.click()};return P((()=>b.value),(()=>0===b.value.length?Y():null)),(t,l)=>{const s=d,o=c,i=p,n=x("Multiselect"),r=T,u=L,k=N,w=D;return m(),_("div",Z,[t.$slots.custom?(m(),_("div",ee,[S(t.$slots,"custom",{},void 0,!0)])):V("",!0),h("div",{class:q(["flex-table-toolbar",[t.$slots["custom-content"]&&"mb-0"]])},[h("div",ae,[A(C(o,null,{default:y((()=>[C(s,{icon:"feather:search"},{default:y((()=>[e.isAutoSearch?A((m(),_("input",{key:0,"onUpdate:modelValue":[l[0]||(l[0]=e=>b.value=e),l[1]||(l[1]=e=>a("autoSearch",b.value))],type:"text",class:"input is-rounded",placeholder:e.searchPlaceholder},null,8,te)),[[B,b.value]]):A((m(),_("input",{key:1,"onUpdate:modelValue":l[2]||(l[2]=e=>b.value=e),type:"text",class:"input is-rounded",placeholder:e.searchPlaceholder,onKeyup:E(Y,["enter"])},null,40,le)),[[B,b.value]])])),_:1})])),_:1},512),[[O,e.canSearchable]]),S(t.$slots,"custom-left",{},void 0,!0),e.canExport?(m(),_("div",se,[C(i,{color:"primary",outlined:"",loading:e.isLoading,onClick:_e},{default:y((()=>[oe])),_:1},8,["loading"])])):V("",!0)]),h("div",ie,[A(C(o,null,{default:y((()=>[C(s,null,{default:y((()=>[h("div",ne,[A(h("select",{"onUpdate:modelValue":[l[3]||(l[3]=e=>g.value=e),W]},[(m(!0),_(F,null,H(e.customPerPageOption,(e=>(m(),_("option",{key:`op-page-${e}`,value:e},R(e)+" results per page ",9,re)))),128))],512),[[I,g.value]])])])),_:1})])),_:1},512),[[O,!e.hidePerPage]]),A(C(o,null,{default:y((()=>[de,C(s,null,{default:y((()=>[C(n,{modelValue:U.value,"onUpdate:modelValue":l[4]||(l[4]=e=>U.value=e),mode:"multiple",options:e.headers,"value-prop":"key",placeholder:"Select options","hide-selected":!1,"can-clear":!1},null,8,["modelValue","options"])])),_:1})])),_:1},512),[[O,e.canCustomHeader]]),S(t.$slots,"custom-right",{},void 0,!0)])],2),t.$slots["custom-content"]?(m(),_("div",ce,[S(t.$slots,"custom-content",{},void 0,!0)])):V("",!0),C(k,{size:"large",translucent:"",active:e.isLoading},{default:y((()=>[h("div",{class:q(["datatable-container",[e.hideFooter&&"datatable-no-footer"]])},[h("table",ue,[h("thead",null,[t.$slots.thead?V("",!0):(m(),_("tr",pe,[(m(!0),_(F,null,H(z(K),((e,a)=>(m(),_("th",{key:`h-${a}`,scope:"col",class:q([e.isFreeze&&"col-freeze"])},[h("span",{class:q([e.isEnd&&"is-flex is-justify-content-flex-end",e.isCenter&&"is-flex is-justify-content-center",e.customHeaderClass])},R(e.label),3)],2)))),128)),e.isAction?(m(),_("th",me,fe)):V("",!0)])),S(t.$slots,"thead",{},void 0,!0)]),e.data.length?(m(),_("tbody",ye,[z(Q)?(m(!0),_(F,{key:0},H(e.data,((e,a)=>(m(),_("tr",{key:`tb-${a}`},[(m(!0),_(F,null,H(e,((e,a)=>(m(),_("td",{key:`tb-data-${a}`},[t.$slots[`custom-column-${a+1}`]?V("",!0):(m(),_("span",he,R(e),1)),S(t.$slots,`custom-column-${a+1}`,{value:e},void 0,!0)])))),128))])))),128)):(m(!0),_(F,{key:1},H(e.data,((a,l)=>(m(),_("tr",{key:`tb-${l}`},[(m(!0),_(F,null,H(z(K),((e,l)=>(m(),_("td",{key:`tb-data-${l}`,class:q([e.isFreeze&&"col-freeze"])},[h("span",{class:q([e.isEnd&&"is-flex is-justify-content-flex-end",e.isCenter&&"is-flex is-justify-content-center",e.customRowClass])},[t.$slots[e.key]?V("",!0):(m(),_("span",ve,R(X(a,e.key)),1)),S(t.$slots,e.key,{value:X(a,e.key,e.isRaw)},void 0,!0)],2)],2)))),128)),e.isAction?(m(),_("td",ge,[h("span",be,[t.$slots.action?V("",!0):(m(),f(r,{key:0})),S(t.$slots,"action",{value:a},void 0,!0)])])):V("",!0)])))),128))])):(m(),_("tbody",ke,[h("tr",null,[h("td",{colspan:e.isAction?e.headers.length+1:e.headers.length},[C(u,{title:"No data to show",subtitle:"There is currently no data to show in this list."},{image:y((()=>[$e,je])),_:1})],8,we)])]))])],2)])),_:3},8,["active"]),h("div",Pe,[e.showItemOfEntires?(m(),_("div",xe,R(z(J)),1)):V("",!0),A(C(w,{"item-per-page":g.value,"total-items":e.total,"current-page":v.value,"max-links-displayed":7},null,8,["item-per-page","total-items","current-page"]),[[O,!e.hidePagination]])])])}}});_e.__scopeId="data-v-4965a852";export{_e as _};
