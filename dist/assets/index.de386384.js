var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{_ as u,a as r}from"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import{p as n,c,h as d}from"./index.d7dc1ff6.js";import{_ as p}from"./VTag.vue_vue&type=script&setup=true&lang.b31af8ee.js";import{_ as m}from"./Datatable.aae3ef08.js";import{q as y,r as f,A as v,b,k as g,Y as h,ae as j,d as z,X as T,E as _,o as V,e as q,x as P,au as k,g as O,F as w,h as C,y as L,i as S,G as U,t as x,p as E,a as I}from"./vendor.1c8b4573.js";import{u as Q}from"./useGuardQuiz.5f9ebd22.js";import{u as A}from"./useQuizApi.3259bcc4.js";import{u as D}from"./usePaginationRoute.780ca235.js";import{c as F,Q as H,d as B}from"./quiz.enum.fc8b95fc.js";import{c as G}from"./quiz.helper.1fae50f8.js";import"./VPlaceholderSection.vue_vue&type=script&setup=true&lang.35b0ad2a.js";import"./VLoader.vue_vue&type=script&setup=true&lang.a96d7daf.js";import"./VFlexPagination.86ce707c.js";import"./search-4-dark.fb3880a5.js";import"./lodash.0a1ccad5.js";function R(){const e=y({isLoading:!1,quizzes:[],total:0,filter:{productType:void 0,type:void 0,status:void 0}}),u=f({productType:Object.values(F),type:Object.values(H),status:Object.values(B)}),r=v(),n=b(),{currentPage:c,perPage:d,search:p}=D(),{getAllQuizzes:m}=A(),z=g((()=>r.query.productType)),T=g((()=>r.query.type)),_=g((()=>r.query.status));h((async()=>{e.filter={productType:z.value,type:T.value,status:_.value},(async()=>{e.isLoading=!0;const{productType:a,type:t,status:l}=e.filter,s={currentPage:c,perPage:d,search:p,productType:a,type:t,status:l},o=await m(s);e.isLoading=!1,e.quizzes=(null==o?void 0:o.data)||[],e.total=(null==o?void 0:o.total)||0})()}));return V=((e,a)=>{for(var t in a||(a={}))s.call(a,t)&&i(e,t,a[t]);if(l)for(var t of l(a))o.call(a,t)&&i(e,t,a[t]);return e})({},j(e)),a(V,t({quizTableHeaders:[{key:"id",label:"ID"},{key:"name",label:"Name"},{key:"type",label:"Type",isCenter:!0},{key:"productType",label:"Product Type",isCenter:!0},{key:"status",label:"Status",isCenter:!0},{key:"timer",label:"Timer Limit",isCenter:!0}],options:u,onChangeFilter:()=>{const{productType:a,type:t,status:l}=e.filter;n.push({query:{currentPage:"1",perPage:d,search:p,productType:a,type:t,status:l}})}}));var V}E("data-v-1c4e3c5c");const $={class:"page-content-inner"},K={class:"custom-filter"},M={class:"columns"},N={class:"column is-4"},W=C("label",null,"Type",-1),X={class:"column is-4"},Y=C("label",null,"Product Type",-1),J={class:"column is-4"},Z=C("label",null,"Status",-1),ee=U("Create"),ae={class:"dark-inverted is-flex is-justify-content-flex-end"},te=U(" Action "),le=C("div",{class:"icon"},[C("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1),se=C("div",{class:"meta"},[C("span",null,"View"),C("span",null,"View quiz details")],-1),oe=C("div",{class:"icon"},[C("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1),ie=C("div",{class:"meta"},[C("span",null,"Edit"),C("span",null,"Edit quiz details")],-1);I();var ue=z({setup(e){n.value="Quiz Information",T({title:"Whitehouse: Quizzes"});const{filter:a,isLoading:t,options:l,onChangeFilter:s,quizTableHeaders:o,quizzes:i,total:y}=R(),{capabilities:f,haveActionButton:v}=Q();return(e,n)=>{const b=_("Multiselect"),g=u,h=r,j=c,z=p,T=c,E=_("RouterLink"),I=d,Q=m;return V(),q("div",$,[P(Q,{"is-loading":O(t),headers:O(o),data:O(i),total:O(y),"is-action":O(v)},k({custom:w((()=>[C("div",K,[C("div",M,[C("div",N,[P(h,null,{default:w((()=>[W,P(g,null,{default:w((()=>[P(b,{modelValue:O(a).type,"onUpdate:modelValue":[n[0]||(n[0]=e=>O(a).type=e),O(s)],options:O(l).type,placeholder:"Select type"},null,8,["modelValue","options","onUpdate:modelValue"])])),_:1})])),_:1})]),C("div",X,[P(h,null,{default:w((()=>[Y,P(g,null,{default:w((()=>[P(b,{modelValue:O(a).productType,"onUpdate:modelValue":[n[1]||(n[1]=e=>O(a).productType=e),O(s)],options:O(l).productType,placeholder:"Select product type"},null,8,["modelValue","options","onUpdate:modelValue"])])),_:1})])),_:1})]),C("div",J,[P(h,null,{default:w((()=>[Z,P(g,null,{default:w((()=>[P(b,{modelValue:O(a).status,"onUpdate:modelValue":[n[2]||(n[2]=e=>O(a).status=e),O(s)],options:O(l).status,placeholder:"Select status"},null,8,["modelValue","options","onUpdate:modelValue"])])),_:1})])),_:1})])])])])),type:w((({value:e})=>[U(x(O(G)(e)),1)])),productType:w((({value:e})=>[P(z,{color:e===O(F).KID?"orange":"info",label:e,outlined:""},null,8,["color","label"])])),status:w((({value:e})=>[P(z,{color:e===O(B).PUBLISHED?"success":"solid",label:e,outlined:""},null,8,["color","label"])])),timer:w((({value:e})=>[U(x(e&&"00:00:00"!==e?e:"-"),1)])),_:2},[O(f).canCreate?{name:"custom-right",fn:w((()=>[P(j,{icon:"feather:plus-circle",color:"primary",fullwidth:"",to:{name:"quizzes-create"}},{default:w((()=>[ee])),_:1})]))}:void 0,O(v)?{name:"action",fn:w((({value:e})=>[C("div",ae,[P(I,{spaced:"",right:""},{button:w((({toggle:e})=>[P(T,{icon:"feather:more-vertical",class:"is-trigger",onClick:e},{default:w((()=>[te])),_:2},1032,["onClick"])])),content:w((()=>[O(f).canView?(V(),L(E,{key:0,role:"menuitem",class:"dropdown-item is-media",to:{name:"quizzes-:id",params:{id:`${e.id}`}}},{default:w((()=>[le,se])),_:2},1032,["to"])):S("",!0),O(f).canEdit?(V(),L(E,{key:1,role:"menuitem",class:"dropdown-item is-media",to:{name:"quizzes-:id",params:{id:`${e.id}`},hash:"#edit"}},{default:w((()=>[oe,ie])),_:2},1032,["to"])):S("",!0)])),_:2},1024)])]))}:void 0]),1032,["is-loading","headers","data","total","is-action"])])}}});ue.__scopeId="data-v-1c4e3c5c";export default ue;
