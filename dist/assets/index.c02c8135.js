var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(a,t,i)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i,r=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&l(e,t,a[t]);if(i)for(var t of i(a))n.call(a,t)&&l(e,t,a[t]);return e};import{u as o,o as c,p as d,c as u,h as p}from"./index.d7dc1ff6.js";import{_ as m}from"./VTag.vue_vue&type=script&setup=true&lang.b31af8ee.js";import{_ as y}from"./Datatable.aae3ef08.js";import{_ as v}from"./VPlaceholderSection.vue_vue&type=script&setup=true&lang.35b0ad2a.js";import{_ as g}from"./VModal.31b4f4ba.js";import{k as f,q as b,r as k,Y as h,ae as _,d as C,X as E,b as S,A as j,o as w,e as T,x as D,au as I,g as V,F as P,h as x,t as O,i as N,p as q,G as A,a as G}from"./vendor.1c8b4573.js";import{u as L}from"./usePaginationRoute.780ca235.js";import{u as R}from"./useSettingApi.de3135e4.js";import"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import"./VLoader.vue_vue&type=script&setup=true&lang.a96d7daf.js";import"./VFlexPagination.86ce707c.js";import"./search-4-dark.fb3880a5.js";function F(){const e=b({data:[],total:0,id:0,settingkey:"",isLoading:!0}),i=k([{key:"id",label:"ID"},{key:"key",label:"Key"},{key:"displayName",label:"Display Name"},{key:"details",label:"Details"},{key:"type",label:"Type",isCenter:!0},{key:"value",label:"Value"},{key:"action",label:"Actions",isEnd:!0,isRaw:!0}]),{currentPage:s,perPage:n,search:l}=L(),{getSettings:o,deleteSetting:d}=R(),u=async()=>{e.isLoading=!0;const a=await o({currentPage:s,perPage:n,search:l});e.isLoading=!1,a&&(e.data=a.data,e.total=a.total)};return h((async()=>{await u()})),p=r({},_(e)),a(p,t({headers:i,setDeleteSetting:async(a,t)=>{e.id=a,e.settingkey=t},confirmDeleteSetting:async e=>{const a=await d(e);c(a,"Setting was deleted!"),await u()}}));var p}q("data-v-355589e6");const W={class:"page-content-inner"},B={class:"is-flex is-justify-content-flex-end pt-4"},Y=A(" Create "),$={class:"item-value"},z={key:0,class:"dark-inverted is-flex is-justify-content-flex-end"},K=A(" Actions "),M=["onClick"],X=[x("div",{class:"icon"},[x("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1),x("div",{class:"meta"},[x("span",null,"View"),x("span",null,"View Setting")],-1)],H=["onClick"],J=[x("div",{class:"icon"},[x("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1),x("div",{class:"meta"},[x("span",null,"Edit"),x("span",null,"Edit Setting")],-1)],Q=x("hr",{class:"dropdown-divider"},null,-1),U=["onClick"],Z=[x("div",{class:"icon"},[x("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),x("div",{class:"meta"},[x("span",null,"Remove"),x("span",null,"Remove Setting")],-1)],ee=A("Confirm "),ae=A("Cancel");G();var te=C({setup(e){d.value="Configurations",E({title:"Whitehouse: Configurations"});const{data:a,total:t,isLoading:i,id:s,settingkey:n,headers:l,setDeleteSetting:c,confirmDeleteSetting:b}=F(),{settings:h,haveActionButton:_}={settings:f((()=>({canView:o(["VIEW_SETTING"]),canCreate:o(["CREATE_SETTING"]),canEdit:o(["EDIT_SETTING"]),canDelete:o(["DELETE_SETTING"])}))),haveActionButton:f((()=>o(["VIEW_SETTING"])||o(["EDIT_SETTING"])))},C=S(),q=j(),A=k(!1),G=()=>{C.push({name:"settings-create",query:r({},q.query)})};return(e,o)=>{const d=u,f=m,k=p,E=y,S=v,j=g;return w(),T("div",W,[D(E,{key:V(i),"is-loading":V(i),"search-placeholder":"search by id, key, display_name",headers:V(l),data:V(a),total:V(t)},I({type:P((({value:e})=>[D(f,{color:"text"===e?"primary":"number"===e?"info":"solid",label:e,rounded:""},null,8,["color","label"])])),value:P((({value:e})=>[x("div",$,O(e),1)])),action:P((({value:e})=>[V(_)?(w(),T("div",z,[D(k,{spaced:"",right:""},{button:P((({toggle:e})=>[D(d,{icon:"feather:more-vertical",class:"is-trigger",onClick:e},{default:P((()=>[K])),_:2},1032,["onClick"])])),content:P((()=>[V(h).canView?(w(),T("a",{key:0,role:"menuitem",class:"dropdown-item is-media",onClick:a=>{return t=e.id,void C.push({name:"settings-:id",query:r({},q.query),params:{id:t}});var t}},X,8,M)):N("",!0),V(h).canEdit?(w(),T("a",{key:1,role:"menuitem",class:"dropdown-item is-media",onClick:a=>{return t=e.id,void C.push({name:"settings-:id",query:r({},q.query),params:{id:t},hash:"#edit"});var t}},J,8,H)):N("",!0),Q,V(h).canDelete?(w(),T("a",{key:2,role:"menuitem",class:"dropdown-item is-media",onClick:a=>(({id:e,key:a})=>{A.value=!0,c(e||0,a)})(e)},Z,8,U)):N("",!0)])),_:2},1024)])):N("",!0)])),_:2},[V(h).canCreate?{name:"custom-right",fn:P((()=>[x("div",B,[D(d,{color:"primary",icon:"fas fa-plus",onClick:G},{default:P((()=>[Y])),_:1})])]))}:void 0]),1032,["is-loading","headers","data","total"]),D(j,{key:V(s),title:"Confirm Remove Setting",open:A.value,size:"small",actions:"center",onClose:o[2]||(o[2]=e=>A.value=!1)},{content:P((()=>[D(S,{subtitle:`You want to remove Setting ID (${V(s)}) :  ${V(n)}`},null,8,["subtitle"])])),action:P((()=>[D(d,{color:"primary",raised:"",onClick:o[0]||(o[0]=e=>{A.value=!1,V(b)(V(s))})},{default:P((()=>[ee])),_:1})])),cancel:P((()=>[D(d,{raised:"",onClick:o[1]||(o[1]=e=>A.value=!1)},{default:P((()=>[ae])),_:1})])),_:1},8,["open"])])}}});te.__scopeId="data-v-355589e6";export default te;
