var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,i=(e,i)=>{for(var o in i||(i={}))a.call(i,o)&&r(e,o,i[o]);if(t)for(var o of t(i))s.call(i,o)&&r(e,o,i[o]);return e};import{p as o,c as d}from"./index.d7dc1ff6.js";import{u as l,_ as u}from"./useSeriesItem.7f74e055.js";import{d as n,X as c,r as p,T as m,b as f,A as v,k as y,Y as b,D as j,o as S,e as g,h,n as I,g as k,t as O,x,F as _,y as w,G as A}from"./vendor.1c8b4573.js";import{u as C}from"./useGuardSeriesItem.794b4076.js";import"./SelectOption.vue_vue&type=script&setup=true&lang.934e0be4.js";import"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import"./VLoader.vue_vue&type=script&setup=true&lang.a96d7daf.js";import"./series-item.enum.786b841a.js";import"./useOptionApi.f4dc99b9.js";import"./quiz.enum.fc8b95fc.js";import"./useTextHelper.08cd3a6d.js";import"./csv.helper.d14e8c45.js";import"./useNotyf.ddf08f06.js";import"./student.helper.13430dac.js";import"./student.enum.ad6af513.js";import"./common.helper.74291d4c.js";import"./index.8f8d8101.js";import"./useSeriesItemApi.25ad4ad5.js";import"./useStudentApi.e8de2a80.js";const F={class:"page-content-inner"},E={class:"form-layout"},P={class:"form-outer"},q={class:"form-header-inner"},V={class:"left"},D={class:"right"},G={class:"buttons"},L=A(" Back "),T=A("Edit"),z=A("Save"),B={class:"form-body"};var H=n({setup(e){o.value="Series Item",c({title:"Whitehouse: Series Item"});const{readonly:t,data:a,student:s,disabledSave:r,isLoading:n,packageItems:A,onSaveSeriesItem:H,fetchSeriesItemInfo:N,setStudentPackageItems:W,clearStateInfo:X,autoFixSource:Y}=l(),{capabilities:J}=C(),K=p(),M=p(),Q=p(),{y:R}=m(),U=f(),Z=v(),$=y((()=>R.value>100)),ee=()=>{U.push({name:"students-series-items",query:i({},Z.query)})};return b((async()=>{await N(),K.value=j(a.value.startDate).toISOString(),M.value=a.value.studentId,Q.value=a.value.challengeId})),(e,i)=>{const o=d,l=u;return S(),g("div",F,[h("form",E,[h("div",P,[h("div",{class:I([[k($)&&"is-stuck"],"form-header stuck-header"])},[h("div",q,[h("div",V,[h("h3",null,O(k(t)?"View":"Edit")+" Series Item",1)]),h("div",D,[h("div",G,[x(o,{icon:"lnir lnir-arrow-left rem-100",class:"custom-btn","dark-outlined":"",light:"",onClick:ee},{default:_((()=>[L])),_:1}),k(t)&&k(J).canEdit?(S(),w(o,{key:0,to:"#edit",color:"primary",icon:"feather:save"},{default:_((()=>[T])),_:1})):(S(),w(o,{key:1,color:"primary",icon:"feather:save",disabled:k(r),onClick:k(H)},{default:_((()=>[z])),_:1},8,["disabled","onClick"]))])])])],2),h("div",B,[x(l,{data:k(a),student:k(s),"is-loading":k(n),readonly:k(t),"package-items":k(A)||[],"default-start-date":K.value,"default-challenge-id":Q.value,"default-student-id":M.value,onOnSelectStudent:i[0]||(i[0]=e=>k(W)(k(a).studentId)),onClear:k(X),onAutoFix:k(Y)},null,8,["data","student","is-loading","readonly","package-items","default-start-date","default-challenge-id","default-student-id","onClear","onAutoFix"])])])])])}}});export default H;
