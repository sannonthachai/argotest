var e=Object.defineProperty,a=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,d=(a,r,o)=>r in a?e(a,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[r]=o,t=(e,a)=>{for(var r in a||(a={}))s.call(a,r)&&d(e,r,a[r]);if(o)for(var r of o(a))n.call(a,r)&&d(e,r,a[r]);return e};import{p as l,a as i,d as c,o as p,e as u,h as f,K as m,ai as v,G as y,b,A as h,q as O,k as j,Y as w,ae as g}from"./vendor.1c8b4573.js";import{o as C}from"./index.d7dc1ff6.js";import{u as I}from"./useCoachApi.4bab1366.js";l("data-v-31587791");const S={class:"form-fieldset"},q={class:"columns is-multiline"},x={class:"column is-12"},L={class:"field"},P=f("label",null,[y(" Orders "),f("span",{class:"red"},"*")],-1),F={class:"control"},$=["readonly"],_={class:"column is-12"},A={class:"field"},B=f("label",null,[y(" Name "),f("span",{class:"red"},"*")],-1),E={class:"control"},U=["readonly"];i();var V=c({props:{data:{type:Object,required:!0},readonly:{type:Boolean,default:!1},addOn:{type:Object,required:!0}},setup(e){const a=e;return(r,o)=>(p(),u("div",S,[f("div",q,[f("div",x,[f("div",L,[P,f("div",F,[m(f("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.data.orders=a),type:"number",class:"input",placeholder:"fill orders...",readonly:null==a?void 0:a.readonly,min:"0",onChange:o[1]||(o[1]=(...a)=>e.addOn.autoFixOrders&&e.addOn.autoFixOrders(...a))},null,40,$),[[v,e.data.orders]])])])]),f("div",_,[f("div",A,[B,f("div",E,[m(f("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>e.data.name=a),type:"text",class:"input",placeholder:"fill name...",readonly:null==a?void 0:a.readonly},null,8,U),[[v,e.data.name]])])])])])]))}});function k(){const{createCoachLevel:e,updateCoachLevel:o,getCoachLevelById:s}=I(),n=b(),d=h(),l=O({id:0,readonly:!0,onSaving:!1,info:{name:"",orders:0}}),i=j((()=>!l.info.name||!l.info.orders)),c=async()=>{const e=await s(parseInt(`${d.params.id}`));l.id=e.id,l.info.name=e.name,l.info.orders=e.orders};return w((()=>{const e=d.hash,a=parseInt(`${d.params.id}`);l.readonly="#edit"!==e,a&&c()})),p=t({},g(l)),a(p,r({disabledSave:i,setStateInfo:c,onEditMode:()=>{n.push({name:"coaches-levels-:id",query:t({},d.query),params:{id:parseInt(`${d.params.id}`)},hash:"#edit"})},clearStateInfo:()=>{l.id=0,l.info.name="",l.info.orders=0},onSaveCoachLevel:async()=>{l.onSaving=!0;const a={name:l.info.name,orders:l.info.orders};let r;l.id?(r=await o(t({id:l.id},a)),C(r,"Coach Level was updated!")):(r=await e(a),C(r,"Coach Level was created!")),l.onSaving=!1,n.push({name:"coaches-levels",query:t({},d.query)})},autoFixOrders:()=>{l.info.orders<0?l.info.orders=0:l.info.orders>50&&(l.info.orders=50)}}));var p}V.__scopeId="data-v-31587791";export{V as _,k as u};
