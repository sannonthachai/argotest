var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,i=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&r(e,t,a[t]);if(l)for(var t of l(a))o.call(a,t)&&r(e,t,a[t]);return e},n=(e,l)=>a(e,t(l));import{_ as c}from"./ConfirmRemoveModal.3ba4d6d1.js";import{_ as d,a as u}from"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import{e as m,p as g,c as p,a as y,h as f}from"./index.d7dc1ff6.js";import{_ as v}from"./VTag.vue_vue&type=script&setup=true&lang.b31af8ee.js";import{_ as b}from"./VIconBox.vue_vue&type=script&setup=true&lang.7bffdb35.js";import{_ as h}from"./Datatable.aae3ef08.js";import{t as C}from"./date.helper.6ae3fc87.js";import{q as k,A as j,b as _,Y as M,ae as w,d as B,r as S,E as V,o as x,e as A,x as P,F as O,h as D,t as L,g as I,au as T,y as q,i as E,O as Y,aV as H,G as R,p as U,a as F}from"./vendor.1c8b4573.js";import{u as $}from"./useCategoryBlogApi.e9b60384.js";import{u as z}from"./usePaginationRoute.780ca235.js";import{u as G}from"./useNotyf.ddf08f06.js";import{u as K}from"./useGuardCategoryBlog.180b6e28.js";import{C as N}from"./category-blog.enum.7cadbaf9.js";import"./VPlaceholderSection.vue_vue&type=script&setup=true&lang.35b0ad2a.js";import"./VModal.31b4f4ba.js";import"./VLoader.vue_vue&type=script&setup=true&lang.a96d7daf.js";import"./VFlexPagination.86ce707c.js";import"./search-4-dark.fb3880a5.js";import"./index.ec15dc7d.js";import"./lodash.0a1ccad5.js";U("data-v-a3dfc9c6");const J={class:"is-flex justify-content-center"},Q={class:"subtitle is-5"},W={class:"column is-8"},X=D("label",null,"Status",-1),Z=R("Create"),ee={key:0,class:"bg-box"},ae={class:"bg-wrapper"},te={key:1,class:"has-text-centered"},le=["href"],se=D("i",{class:"iconify","data-icon":"feather:link"},null,-1),oe={key:1,class:"has-text-centered"},re={key:0},ie=["href"],ne={key:1},ce={class:"dark-inverted is-flex is-justify-content-flex-end"},de=R(" Actions "),ue=D("div",{class:"icon"},[D("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1),me=D("div",{class:"meta"},[D("span",null,"View"),D("span",null,"View main category blog details")],-1),ge=D("div",{class:"icon"},[D("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1),pe=D("div",{class:"meta"},[D("span",null,"Edit"),D("span",null,"Edit main category blog details")],-1),ye={key:2,class:"dropdown-divider"},fe=["onClick"],ve=[D("div",{class:"icon"},[D("i",{"aria-hidden":"true",class:"lnil lnil-trash"})],-1),D("div",{class:"meta"},[D("span",null,"Remove"),D("span",null,"remove main category blog")],-1)];F();var be=B({setup(e){g.value="Main Category Blog";const{mainCategoryBlogTableHeaders:a,mainCategoryList:t,categoryStatus:l,selectedMainCategoryBlog:s,total:o,onStatusChange:r,isLoading:B,removeMainCategory:U}=function(){const e=k({mainCategoryList:[],categoryStatus:void 0,selectedMainCategoryBlog:void 0,isLoading:!0,total:0}),a=j(),t=_(),l=G(),{perPage:s,currentPage:o,search:r}=z(),{getAllMainCategoryBlog:c,removeMainCategoryBlog:d}=$(),u=async()=>{e.isLoading=!0;const t=a.query.status;e.categoryStatus=t;const l=await c({currentPage:o,perPage:s,search:r,status:e.categoryStatus});e.isLoading=!1,e.mainCategoryList=l.data||[],e.total=l.total||0};return M((()=>{u()})),n(i({},w(e)),{mainCategoryBlogTableHeaders:[{key:"id",label:"ID"},{key:"name",label:"Name"},{key:"metaTitle",label:"Meta Title"},{key:"metaDescription",label:"Meta Description"},{key:"metaKeywords",label:"Meta Keywords"},{key:"slug",label:"Slug"},{key:"type",label:"Blog Type"},{key:"status",label:"Status"},{key:"backgroundColor",label:"Background Color"},{key:"adUrl",label:"Ad url"},{key:"adImage",label:"Ad Image",isCenter:!0},{key:"createdAt",label:"Created At"}],fecthAllMainCategoryBlog:u,removeMainCategory:async()=>{var a;if(!e.selectedMainCategoryBlog)return;const t=await d(null==(a=e.selectedMainCategoryBlog)?void 0:a.id);200===t.status?(l.success("success!"),e.selectedMainCategoryBlog=void 0,u()):l.error(m(t.message))},onStatusChange:()=>{const l=n(i({},a.query),{status:e.categoryStatus});t.push({name:a.name||"blogs-main-category",params:a.params,query:l})}})}(),F=S(Object.entries(N).map((([e,a])=>({label:e,value:a})))),{capabilities:be,haveActionButton:he}=K();return(e,i)=>{const n=c,m=V("Multiselect"),g=d,k=u,j=p,_=v,M=b,w=d,S=u,$=y,z=V("RouterLink"),G=f,K=h;return x(),A("div",null,[P(n,{open:!!I(s),title:"Are you sure ?",subtitle:"Please make sure that you are going to remove main blog",onConfirm:I(U),onClose:i[0]||(i[0]=e=>s.value=void 0)},{default:O((()=>{var e;return[D("div",J,[D("h1",Q,L(null==(e=I(s))?void 0:e.name),1)])]})),_:1},8,["open","onConfirm"]),P(K,{"search-placeholder":"search by id, name","is-loading":I(B),headers:I(a),data:I(t),total:I(o),"is-action":I(he)},T({"custom-left":O((()=>[D("div",W,[P(k,null,{default:O((()=>[X,P(g,null,{default:O((()=>[P(m,{modelValue:I(l),"onUpdate:modelValue":[i[1]||(i[1]=e=>Y(l)?l.value=e:null),I(r)],placeholder:"Select Status",options:F.value},null,8,["modelValue","options","onUpdate:modelValue"])])),_:1})])),_:1})])])),type:O((({value:e})=>[P(_,{color:"coach"===e?"warning":"info",label:"coach"===e?"Coach":"Student",rounded:""},null,8,["color","label"])])),status:O((({value:e})=>[P(_,{color:"0"===e?"danger":"success",label:"0"===e?"Inactivate":"Activate",rounded:""},null,8,["color","label"])])),backgroundColor:O((({value:e})=>[e?(x(),A("div",ee,[D("div",ae,[D("i",{class:"fas fa-palette",style:H(`color:${e}`)},null,4)])])):(x(),A("div",te,"-"))])),adUrl:O((({value:e})=>[e?(x(),q(S,{key:0,addons:""},{default:O((()=>[P(w,null,{default:O((()=>[D("a",{href:e,target:"_blank"},[P(M,{size:"small",class:"is-primary",bordered:""},{default:O((()=>[se])),_:1})],8,le)])),_:2},1024)])),_:2},1024)):(x(),A("div",oe,"-"))])),adImage:O((({value:e})=>[e?(x(),A("div",re,[D("a",{href:e,target:"_blank"},[P($,{picture:e,size:"small",squared:""},null,8,["picture"])],8,ie)])):(x(),A("div",ne,"-"))])),createdAt:O((({value:e})=>[R(L(I(C)(e,"DD/MM/YYYY HH:mm")),1)])),_:2},[I(be).canCreate?{name:"custom-right",fn:O((()=>[P(j,{color:"primary",icon:"feather:plus",class:"is-flex justify-content-end",to:{name:"blogs-main-category-create"}},{default:O((()=>[Z])),_:1})]))}:void 0,I(he)?{name:"action",fn:O((({value:e})=>[D("div",ce,[P(G,{spaced:"",right:""},{button:O((({toggle:e})=>[P(j,{icon:"feather:more-vertical",class:"is-trigger",onClick:e},{default:O((()=>[de])),_:2},1032,["onClick"])])),content:O((()=>[I(be).canView?(x(),q(z,{key:0,role:"menuitem",class:"dropdown-item is-media",to:{name:"blogs-main-category-:id",params:{id:`${e.id}`}}},{default:O((()=>[ue,me])),_:2},1032,["to"])):E("",!0),I(be).canEdit?(x(),q(z,{key:1,role:"menuitem",class:"dropdown-item is-media",to:{name:"blogs-main-category-:id",hash:"#edit",params:{id:`${e.id}`}}},{default:O((()=>[ge,pe])),_:2},1032,["to"])):E("",!0),I(be).canDelete?(x(),A("hr",ye)):E("",!0),I(be).canDelete?(x(),A("a",{key:3,role:"menuitem",class:"dropdown-item is-media",onClick:a=>s.value=e},ve,8,fe)):E("",!0)])),_:2},1024)])]))}:void 0]),1032,["is-loading","headers","data","total","is-action"])])}}});be.__scopeId="data-v-a3dfc9c6";export default be;
