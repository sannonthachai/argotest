var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,o=(e,a)=>{for(var t in a||(a={}))i.call(a,t)&&r(e,t,a[t]);if(l)for(var t of l(a))s.call(a,t)&&r(e,t,a[t]);return e},n=(e,l)=>a(e,t(l));import{_ as c,a as p}from"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import{u,p as d,l as k,j as y}from"./index.d7dc1ff6.js";import{_ as g}from"./Datatable.aae3ef08.js";import{q as m,A as v,b as f,k as b,Y as h,ae as L,d as j,X as x,E as T,av as P,o as _,e as C,x as O,F as w,g as V,O as I,h as F,t as q,G as A,K as D,V as E}from"./vendor.1c8b4573.js";import{_ as S}from"./index.8f8d8101.js";import{u as G}from"./useNotyf.ddf08f06.js";import{u as K}from"./usePackageApi.47154a43.js";import{u as N}from"./usePaginationRoute.780ca235.js";import{a as U}from"./product.enum.768ca89a.js";import"./VPlaceholderSection.vue_vue&type=script&setup=true&lang.35b0ad2a.js";import"./VLoader.vue_vue&type=script&setup=true&lang.a96d7daf.js";import"./VFlexPagination.86ce707c.js";import"./search-4-dark.fb3880a5.js";import"./package.enum.de4ee89f.js";function H(){const e=m({packageLinkList:[],productType:void 0,total:0,isLoading:!0}),a=v(),t=f(),{toClipboard:l}=S(),i=G(),{getPackageLink:s}=K(),{currentPage:r,perPage:c,search:p}=N(),u=b((()=>a.query.type));h((()=>{(async()=>{e.isLoading=!0,e.productType=u.value;const a=await s({currentPage:r,perPage:c,search:p,type:e.productType});e.isLoading=!1,a&&(e.packageLinkList=a.data,e.total=null==a?void 0:a.total)})()}));return n(o({},L(e)),{packageLinkTableHeaders:[{key:"id",label:"ID"},{key:"name",label:"Name"},{key:"oneOnOneTicket",label:"1-1 Ticket",isCenter:!0},{key:"freetalkTicket",label:"Freetalk Ticket",isCenter:!0},{key:"groupTicket",label:"Group Ticket",isCenter:!0},{key:"duration",label:"Duration",isCenter:!0},{key:"price",label:"Price",isCenter:!0},{key:"link",label:"Link",isCenter:!0}],onTypeChange:()=>{const l=n(o({},a.query),{type:e.productType});t.push({name:a.name||"products-package-link",params:a.params,query:l})},copyLink:async e=>{try{await l(e),i.success("Copied to clipboard")}catch(a){i.error(a)}},viewLink:e=>{window.open(e)}})}const M={class:"page-content-inner"},R=F("label",null,"Product Type",-1),W={class:"multiselect-single-label"},X={class:"select-option-text"},Y={key:0,class:"light-text"},z={key:1,class:"light-text"},B={key:0,class:"light-text"},J={key:1,class:"light-text"},Q={key:0,class:"light-text"},Z={key:1,class:"light-text"},$={key:0,class:"light-text"},ee={key:1,class:"light-text"},ae={class:"is-flex"};var te=j({setup(e){d.value="Package Link Information",x({title:"Package Link Information"});const{packageLinkList:a,productType:t,packageLinkTableHeaders:l,onTypeChange:i,copyLink:s,viewLink:r,total:o,isLoading:n}=H();b((()=>({canView:u(["VIEW_LIST_OF_PACKAGE_LINK"])})));const m=Object.values(U).map((e=>{const a=e.replace(/(^\w|\s\w|_)/g,(e=>"_"!==e?e.toUpperCase():" "));return{value:e,text:a}}));return(e,u)=>{const d=T("Multiselect"),v=c,f=p,b=y,h=c,L=p,j=g,x=P("tooltip");return _(),C("div",M,[O(j,{"search-placeholder":"search by id, name",headers:V(l),data:V(a),total:V(o),"is-loading":V(n)},{"custom-left":w((()=>[O(f,null,{default:w((()=>[R,O(v,null,{default:w((()=>[O(d,{modelValue:V(t),"onUpdate:modelValue":[u[0]||(u[0]=e=>I(t)?t.value=e:null),V(i)],placeholder:"Select product type",label:"text","track-by":"text","value-prop":"value",options:V(m)},{singlelabel:w((({value:e})=>[F("div",W,q(e.text),1)])),option:w((({option:e})=>[F("span",X,q(e.text),1)])),_:1},8,["modelValue","options","onUpdate:modelValue"])])),_:1})])),_:1})])),oneOnOneTicket:w((({value:e})=>[e?(_(),C("div",Y,q(e),1)):(_(),C("div",z,"0"))])),freetalkTicket:w((({value:e})=>[e?(_(),C("div",B,q(e),1)):(_(),C("div",J,"0"))])),groupTicket:w((({value:e})=>[e?(_(),C("div",Q,q(e),1)):(_(),C("div",Z,"0"))])),duration:w((({value:e})=>[e?(_(),C("div",$,q(e),1)):(_(),C("div",ee,"0"))])),price:w((({value:e})=>[A(q(V(k)(e)),1)])),link:w((({value:e})=>[D(O(L,{addons:""},{default:w((()=>[O(h,null,{default:w((()=>[F("div",ae,[D(O(b,{class:"mr-2",color:"primary",icon:"feather:link",circle:"",onClick:a=>V(r)(e)},null,8,["onClick"]),[[x,"View"]]),D(O(b,{color:"primary",icon:"feather:copy",circle:"",onClick:a=>V(s)(e)},null,8,["onClick"]),[[x,"Copy"]])])])),_:2},1024)])),_:2},1536),[[E,e]])])),_:1},8,["headers","data","total","is-loading"])])}}});export default te;
