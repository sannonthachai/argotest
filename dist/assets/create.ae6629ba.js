import{c as e}from"./index.d7dc1ff6.js";import{_ as a,a as l}from"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import{_ as t}from"./SelectOption.vue_vue&type=script&setup=true&lang.934e0be4.js";import{_ as s}from"./FormTemplate.a6fb27bf.js";import{d as o,E as u,o as d,y as i,F as r,x as n,g as p,h as c,t as m,ao as f,ap as b,K as g,ai as k,G as v}from"./vendor.1c8b4573.js";import{u as h}from"./useOptionApi.f4dc99b9.js";import{u as y}from"./useRedeemManagement.3a19fd06.js";import{u as _}from"./useTextHelper.08cd3a6d.js";import"./quiz.enum.fc8b95fc.js";import"./useRedeemApi.76e2bf5d.js";import"./useNotyf.ddf08f06.js";import"./date.helper.6ae3fc87.js";import"./index.ec15dc7d.js";import"./lodash.0a1ccad5.js";import"./csv.helper.d14e8c45.js";import"./student.helper.13430dac.js";import"./student.enum.ad6af513.js";const V=v("Submit"),j={class:"columns is-multiline"},D={class:"column is-12"},Y=c("label",null,"Redeem Type",-1),x={class:"column is-12"},T=c("label",null,"Partner",-1),M={class:"column is-12"},R=c("label",null,"Package",-1),S={class:"multiselect-single-label"},C={class:"select-option-text"},U={class:"column is-12"},E=c("label",null,"Ticket Start Date (Default: Today)",-1),I=["value"],N={class:"column is-12"},P=c("label",null,"Expire Redeem Date (ปล่อยว่างไว้สำหรับไม่มีวันหมดอายุ)",-1),w=["value"],A={class:"column is-12"},F=c("label",null,"Amount",-1),G=["disabled"];var O=o({setup(o){const{createNewRedeem:v,redeemTypeChange:O,createRedeem:q,isLoading:z}=y(),{getPartners:H,getPackages:K}=h(),{displayPackageName:L}=_();return(o,h)=>{const y=e,_=u("Multiselect"),B=a,J=l,Q=t,W=u("v-date-picker"),X=s;return d(),i(X,{title:"Create Redeem"},{buttons:r((()=>[n(y,{color:"primary",icon:"lnir lnir-checkmark rem-100",loading:p(z),raised:"",onClick:p(q)},{default:r((()=>[V])),_:1},8,["loading","onClick"])])),default:r((()=>[c("div",j,[c("div",D,[n(J,null,{default:r((()=>[Y,n(B,null,{default:r((()=>[n(_,{modelValue:p(v).redeemType,"onUpdate:modelValue":h[0]||(h[0]=e=>p(v).redeemType=e),placeholder:"Select redeem type",options:["default","group"],onChange:p(O)},null,8,["modelValue","onChange"])])),_:1})])),_:1})]),c("div",x,[n(J,null,{default:r((()=>[T,n(B,null,{default:r((()=>[n(Q,{modelValue:p(v).partnerId,"onUpdate:modelValue":h[1]||(h[1]=e=>p(v).partnerId=e),placeholder:"Select partner","callback-search":p(H),searchable:!0,"label-by":"partnerName","value-prop":"id"},null,8,["modelValue","callback-search"])])),_:1})])),_:1})]),c("div",M,[n(J,null,{default:r((()=>[R,n(B,null,{default:r((()=>[n(_,{modelValue:p(v).packageId,"onUpdate:modelValue":h[2]||(h[2]=e=>p(v).packageId=e),placeholder:"Select a package","callback-search":p(K),"label-by":"packageName","value-prop":"id",options:p(K),filterResults:!1,delay:0,searchable:!0,onClear:h[3]||(h[3]=e=>p(v).packageId=0)},{singlelabel:r((({value:e})=>[c("div",S,m(p(L)(e)),1)])),option:r((({option:e})=>[c("span",C,m(p(L)(e)),1)])),_:1},8,["modelValue","callback-search","options"])])),_:1})])),_:1})]),c("div",U,[n(W,{modelValue:p(v).ticketStartDate,"onUpdate:modelValue":h[4]||(h[4]=e=>p(v).ticketStartDate=e),color:"orange","model-config":{type:"string",mask:"YYYY-MM-DD"},masks:{input:"YYYY-MM-DD"},"trim-weeks":"",popover:{visibility:"click"}},{default:r((({inputValue:e,inputEvents:a})=>[n(J,null,{default:r((()=>[E,n(B,{icon:"feather:calendar"},{default:r((()=>[c("input",f({class:"input",type:"text",placeholder:"Ticket Start Date",value:e},b(a)),null,16,I)])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"])]),c("div",N,[n(W,{modelValue:p(v).expireDate,"onUpdate:modelValue":h[5]||(h[5]=e=>p(v).expireDate=e),color:"orange","model-config":{type:"string",mask:"YYYY-MM-DD"},masks:{input:"YYYY-MM-DD"},"trim-weeks":"",popover:{visibility:"click"}},{default:r((({inputValue:e,inputEvents:a})=>[n(J,null,{default:r((()=>[P,n(B,{icon:"feather:calendar"},{default:r((()=>[c("input",f({class:"input",type:"text",placeholder:"Expire Redeem Date ปล่อยว่างไว้สำหรับไม่มีวันหมดอายุ",value:e},b(a)),null,16,w)])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"])]),c("div",A,[n(J,null,{default:r((()=>[F,n(B,{icon:"feather:hash"},{default:r((()=>[g(c("input",{"onUpdate:modelValue":h[6]||(h[6]=e=>p(v).amount=e),type:"number",class:"input",placeholder:"ระบุเป็นจำนวนเต็มเท่านั้น *ระบุหากเลือก Type: Group",disabled:"default"===p(v).redeemType},null,8,G),[[k,p(v).amount]])])),_:1})])),_:1})])])])),_:1})}}});export default O;
