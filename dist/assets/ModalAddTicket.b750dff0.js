import{_ as e,a}from"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import{_ as l}from"./VRadio.89eaf975.js";import{_ as t}from"./VSwitchBlock.vue_vue&type=script&setup=true&lang.fd20ebd0.js";import{c as s}from"./index.d7dc1ff6.js";import{_ as o}from"./VModal.31b4f4ba.js";import{d as u,r as d,k as i,w as r,E as p,o as n,y as c,F as m,h as v,x as f,g as b,t as g,K as y,V as k,ai as j,e as _,I as h,H as V,i as x,ao as D,ap as M,p as Y,G as U,a as C}from"./vendor.1c8b4573.js";import{t as P}from"./packages.8a8e1da7.js";import{c as q}from"./common.helper.74291d4c.js";import{T as A,a as E}from"./ticket.enum.46025ae5.js";import"./useOptionApi.f4dc99b9.js";import"./quiz.enum.fc8b95fc.js";import"./useTextHelper.08cd3a6d.js";import"./csv.helper.d14e8c45.js";import"./useNotyf.ddf08f06.js";import"./student.helper.13430dac.js";import"./student.enum.ad6af513.js";import"./useGuardStudent.237f12b5.js";import"./VBlock.vue_vue&type=script&setup=true&lang.2e664adb.js";import"./date.helper.6ae3fc87.js";import"./index.ec15dc7d.js";import"./lodash.0a1ccad5.js";import"./CollapseContent.552f3f62.js";import"./VPlaceholderSection.vue_vue&type=script&setup=true&lang.35b0ad2a.js";import"./search-4-dark.fb3880a5.js";import"./CustomTabs.vue_vue&type=script&setup=true&lang.b78bee55.js";import"./useStudentInfo.f5388aec.js";import"./useStudentApi.e8de2a80.js";import"./useSeriesItemApi.25ad4ad5.js";import"./index.8f8d8101.js";Y("data-v-c24311cc");const S={class:"modal-form"},I=v("label",null,[U("Ticket Type "),v("span",{class:"red"},"*")],-1),w={class:"multiselect-single-label"},T={class:"select-option-text"},K={class:"help is-danger"},B=v("label",null,"Amount",-1),F=v("label",null,[U("Source "),v("span",{class:"red"},"*")],-1),G={class:"help is-danger"},z=v("p",{class:"description has-text-warn ml-1"},[v("span",{class:"bold"},"Giveaway"),U(" เป็นการแถมหลังการขายจาก sale และ "),v("span",{class:"bold"},"Freebie"),U(" เป็นตั๋วที่ให้ฟรีโดยไม่ผ่าน sale ")],-1),H=v("label",null,[U("Comment "),v("span",{class:"red"},"*")],-1),L={class:"help is-danger"},N={class:"columns is-multiline"},O={class:"column is-6"},R=U("Start Date"),$={key:0,class:"red"},J=["value","required"],Q={class:"column is-6"},W=U("Expire Date"),X={key:0,class:"red"},Z=["value","required"],ee=U("Add");C();var ae=u({props:{openModal:{type:Boolean,default:!1},packageItem:{type:Object,default:void 0},title:{type:String,default:""},isLoading:{type:Boolean,default:!1},isCompletedPackage:{type:Boolean,default:!1}},emits:["toggle-close","on-change"],setup(u,{emit:Y}){var U;const C=u,ae=P,le=d(!1),te=d({packageItemId:(null==(U=C.packageItem)?void 0:U.id)||0,type:"package",amount:1,comment:"",source:void 0}),se=d(q(E)),oe=e=>{e||(te.value.startDate=void 0,te.value.expireDate=void 0)},ue=i((()=>!te.value.type||!te.value.source||!te.value.comment)),de=i((()=>te.value.type===A.MAKEUP)),ie=()=>{te.value.type===A.MAKEUP?te.value.source=E.MAKEUP:te.value.source=void 0},re=()=>{te.value.source===E.MAKEUP&&(te.value.type=A.MAKEUP)};return r((()=>{C.isCompletedPackage&&(le.value=!0)})),(d,i)=>{const r=p("Multiselect"),U=e,P=a,q=l,A=e,E=a,pe=t,ne=p("v-date-picker"),ce=s,me=o;return n(),c(me,{open:u.openModal,title:u.title,size:"medium",actions:"right",onClose:i[7]||(i[7]=e=>Y("toggle-close"))},{content:m((()=>[v("form",S,[f(P,{class:"is-autocomplete-select"},{default:m((()=>[I,f(U,{icon:"feather:book"},{default:m((()=>[f(r,{modelValue:te.value.type,"onUpdate:modelValue":[i[0]||(i[0]=e=>te.value.type=e),ie],searchable:!0,options:b(ae),placeholder:"Ticket Type","track-by":"text","value-prop":"value"},{singlelabel:m((({value:e})=>[v("div",w,g(e.text),1)])),option:m((({option:e})=>[v("span",T,g(e.text),1)])),_:1},8,["modelValue","options"])])),_:1}),y(v("p",K," ticket type is required. ",512),[[k,!te.value.type]])])),_:1}),f(P,null,{default:m((()=>[B,f(U,{icon:"feather:hash"},{default:m((()=>[y(v("input",{"onUpdate:modelValue":i[1]||(i[1]=e=>te.value.amount=e),type:"number",class:"input",placeholder:"ระบุเป็นจำนวนเต็มเท่านั้น",min:"1",required:""},null,512),[[j,te.value.amount]])])),_:1})])),_:1}),f(E,null,{default:m((()=>[F,f(A,null,{default:m((()=>[(n(!0),_(V,null,h(se.value,(e=>(n(),c(q,{key:`source-option-${e.value}`,modelValue:te.value.source,"onUpdate:modelValue":[e=>te.value.source=e,re],value:e.value,label:e.label,name:"outlined_radio",color:"primary",disabled:b(de)},null,8,["modelValue","onUpdate:modelValue","value","label","disabled"])))),128))])),_:1}),y(v("p",G," source is required. ",512),[[k,!te.value.source]]),z])),_:1}),f(P,null,{default:m((()=>[H,f(U,null,{default:m((()=>[y(v("input",{"onUpdate:modelValue":i[2]||(i[2]=e=>te.value.comment=e),type:"textarea",class:"textarea is-primary-focus",rows:"2",placeholder:"หมายเหตุ",required:""},null,512),[[j,te.value.comment]])])),_:1}),y(v("p",L," comment is required. ",512),[[k,!te.value.comment]])])),_:1}),f(U,null,{default:m((()=>[f(pe,{modelValue:le.value,"onUpdate:modelValue":[i[3]||(i[3]=e=>le.value=e),oe],label:"Need to custom start date and expire date",color:"primary",disabled:C.isCompletedPackage},null,8,["modelValue","disabled"])])),_:1}),v("div",N,[v("div",O,[y(f(ne,{modelValue:te.value.startDate,"onUpdate:modelValue":i[4]||(i[4]=e=>te.value.startDate=e),color:"orange","model-config":{type:"string",mask:"YYYY-MM-DD"},masks:{input:"DD/MM/YYYY"},"trim-weeks":""},{default:m((({inputValue:e,inputEvents:a})=>[f(P,null,{default:m((()=>[v("label",null,[R,u.isCompletedPackage?(n(),_("span",$,"*")):x("",!0)]),f(U,{icon:"feather:calendar"},{default:m((()=>[v("input",D({class:"input",type:"text",placeholder:"Start Date",value:e,required:le.value},M(a)),null,16,J)])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"]),[[k,le.value]])]),v("div",Q,[y(f(ne,{modelValue:te.value.expireDate,"onUpdate:modelValue":i[5]||(i[5]=e=>te.value.expireDate=e),color:"orange","model-config":{type:"string",mask:"YYYY-MM-DD"},masks:{input:"DD/MM/YYYY"},"trim-weeks":""},{default:m((({inputValue:e,inputEvents:a})=>[f(P,null,{default:m((()=>[v("label",null,[W,u.isCompletedPackage?(n(),_("span",X,"*")):x("",!0)]),f(U,{icon:"feather:calendar"},{default:m((()=>[v("input",D({class:"input",type:"text",placeholder:"Expire Date",value:e,required:le.value},M(a)),null,16,Z)])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"]),[[k,le.value]])])])])])),action:m((()=>[f(ce,{loading:u.isLoading,color:"primary",raised:"",disabled:b(ue),onClick:i[6]||(i[6]=e=>Y("on-change",te.value))},{default:m((()=>[ee])),_:1},8,["loading","disabled"])])),_:1},8,["open","title"])}}});ae.__scopeId="data-v-c24311cc";export default ae;
