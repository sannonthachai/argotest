var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,i=(e,a)=>{for(var t in a||(a={}))o.call(a,t)&&l(e,t,a[t]);if(s)for(var t of s(a))r.call(a,t)&&l(e,t,a[t]);return e},n=(e,s)=>a(e,t(s));import{_ as u,a as c}from"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import{_ as p}from"./VTag.vue_vue&type=script&setup=true&lang.b31af8ee.js";import{h as d}from"./index.d7dc1ff6.js";import{_ as v}from"./Datatable.aae3ef08.js";import{A as y,b as m,ae as f,q as g,d as h,k as b,Y as j,o as k,e as C,x as _,F as P,h as A,K as M,ak as O,g as S,O as w,G as D,t as x,y as I,H as T,I as L,n as V,p as Y,a as G}from"./vendor.1c8b4573.js";import{t as H}from"./date.helper.6ae3fc87.js";import{a as q}from"./student.enum.ad6af513.js";import{u as F}from"./useStudentApi.e8de2a80.js";import{u as E}from"./usePaginationRoute.780ca235.js";import"./VPlaceholderSection.vue_vue&type=script&setup=true&lang.35b0ad2a.js";import"./VLoader.vue_vue&type=script&setup=true&lang.a96d7daf.js";import"./VFlexPagination.86ce707c.js";import"./search-4-dark.fb3880a5.js";import"./index.ec15dc7d.js";import"./lodash.0a1ccad5.js";const R=g({data:[],type:void 0,total:0,isLoading:!0});Y("data-v-0a647d0d");const U={class:"account-box"},K=A("h1",{class:"title is-4 p-3"},"Discussion Class History",-1),N={class:"select is-rounded"},W=A("option",{value:void 0},"All",-1),z=["value"],B=["value"],J={class:"light-text max-content"},Q={key:1,class:"light-text"},X=["onMouseover","onMouseleave"],Z=["onMouseleave"],$={key:2};G();var ee=h({setup(e){const a=[{key:"id",label:"ID"},{key:"topic",label:"Topic"},{key:"type",label:"Type"},{key:"level",label:"Level"},{key:"coach",label:"Coach"},{key:"date",label:"Date"},{key:"time",label:"Time"},{key:"groupClassAttends",label:"Attend"}],t=y(),{data:s,type:o,total:r,isLoading:l,fetchStudentGroupClass:g,selectType:h}=function(){const e=y(),a=m(),{currentPage:t,perPage:s,search:o}=E(),{getStudentGroupClass:r}=F();return n(i({},f(R)),{fetchStudentGroupClass:async e=>{R.isLoading=!0;const a=await r(e,{currentPage:t,perPage:s,search:o,type:R.type});R.isLoading=!1,a&&(R.data=a.data,R.total=a.total)},selectType:()=>{a.push({query:n(i({},e.query),{type:R.type})})}})}(),Y=e=>{if(e)switch(e){case"group":return"Discussion Class";case"live":return"Master Class";case"workshop":return"Workshop"}return"-"},G=b((()=>s.value.map(((e,a)=>n(i({},e),{date:e.time})))));return j((async()=>{await g(parseInt(Array.isArray(t.params.id)?t.params.id[0]:t.params.id))})),(e,t)=>{const s=u,i=c,n=p,y=d,m=v;return k(),C("div",U,[K,_(m,{class:V([0!==S(G).length?"table-width":""]),"is-loading":S(l),"search-placeholder":"search by id, topic, level and coach",headers:a,data:S(G),total:S(r)},{"custom-left":P((()=>[_(i,null,{default:P((()=>[_(s,null,{default:P((()=>[A("div",N,[M(A("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>w(o)?o.value=e:null),onChange:t[1]||(t[1]=(...e)=>S(h)&&S(h)(...e))},[W,A("option",{value:S(q).DISCUSSION}," Discussion Class ",8,z),A("option",{value:S(q).MASTER},"Master Class",8,B)],544),[[O,S(o)]])])])),_:1})])),_:1})])),topic:P((({value:e})=>[D(x(e||"-"),1)])),type:P((({value:e})=>[D(x(Y(e)),1)])),level:P((({value:e})=>[D(x(e||"-"),1)])),coach:P((({value:e})=>[D(x(e||"-"),1)])),date:P((({value:e})=>[A("div",J,x(S(H)(e,"DD/MM/YYYY")),1)])),time:P((({value:e})=>[D(x(S(H)(e,"HH:mm:ss")),1)])),groupClassAttends:P((({value:e})=>[e?Array.isArray(e)&&e.length>0?(k(),C("div",Q,[_(y,{right:""},{button:P((({open:a,close:t})=>[A("p",{onMouseover:a,onMouseleave:t},x(S(H)(e[e.length-1])),41,X)])),content:P((({close:a})=>[A("div",{onMouseleave:a},[(k(!0),C(T,null,L(e,(e=>(k(),C("p",{key:e,class:"dropdown-item"},x(S(H)(e)),1)))),128))],40,Z)])),_:2},1024)])):(k(),C("div",$,"-")):(k(),I(n,{key:0,color:"orange",rounded:"",label:"Student cancel"}))])),_:1},8,["class","is-loading","data","total"])])}}});ee.__scopeId="data-v-0a647d0d";export default ee;
