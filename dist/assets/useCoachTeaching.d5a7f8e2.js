var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(a,t,i)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i,r=(e,a)=>{for(var t in a||(a={}))n.call(a,t)&&c(e,t,a[t]);if(i)for(var t of i(a))o.call(a,t)&&c(e,t,a[t]);return e};import{b as s,A as d,k as p,q as h,ae as f}from"./vendor.1c8b4573.js";import{o as g}from"./index.d7dc1ff6.js";import{u as l}from"./useCoachApi.4bab1366.js";import{u}from"./usePaginationRoute.780ca235.js";function b(){const{currentPage:e,perPage:i,search:n}=u(),{getCoachTeachingPagination:o,createCoachTeaching:c,updateCoachTeaching:b,deleteCoachTeaching:y,getCoachTeachingById:m}=l(),P=s(),v=d(),C=p((()=>"#edit"===v.hash)),T=h({pagination:{currentPage:e,totalPage:1,perPage:i,total:0,data:[]},info:{id:void 0,name:"",description:""},fetching:!1}),j=async()=>{T.fetching=!0;const a=await o({currentPage:e,perPage:i,search:n});T.pagination=a,T.fetching=!1},w=()=>{T.info={id:void 0,name:"",description:""}};return O=r({},f(T)),a(O,t({coachTeachingTableHeaders:[{key:"id",label:"ID"},{key:"name",label:"Name"},{key:"description",label:"Description"},{key:"createdAt",label:"Created At",isCenter:!0},{key:"updatedAt",label:"Updated At",isCenter:!0}],fetchCoachTeachingPagination:j,onDeleteCoachTeaching:async()=>{var e;if(null==(e=T.info)?void 0:e.id){const e=await y(T.info.id);g(e,"Remove success!")}w(),await j()},onSaveCoachTeaching:async()=>{var e;let a;(null==(e=T.info)?void 0:e.id)?(a=await b(T.info),g(a,"Update success!")):(a=await c(T.info),g(a,"Create success!")),201!==a.status&&200!==a.status||(w(),P.push({name:"coaches-teachings",query:r({},v.query)}))},clearStateInfo:w,setStateInfo:e=>{T.info.id=e.id,T.info.name=e.name,T.info.description=e.description},fetchCoachTeachingById:async()=>{const e=await m(+v.params.id);e&&(T.info=e)},isEdit:C}));var O}export{b as u};
