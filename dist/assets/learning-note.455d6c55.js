var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,o=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&l(e,t,a[t]);if(n)for(var t of n(a))r.call(a,t)&&l(e,t,a[t]);return e},i=(e,n)=>a(e,t(n));import{c as u}from"./index.d7dc1ff6.js";import{_ as d,a as c}from"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import{_ as m}from"./VCheckbox.0efaaab1.js";import{r as p,k as f,q as g,A as b,b as y,Y as v,ae as h,d as j,T as I,o as O,e as S,h as k,g as w,x as _,F as x,i as C,n as L,K as P,ai as E,H as V,I as D,y as F,O as T,p as U,G as A,a as N}from"./vendor.1c8b4573.js";import{u as q}from"./useGuardStudent.237f12b5.js";import{u as G}from"./useOptionApi.f4dc99b9.js";import{u as K}from"./useStudentApi.e8de2a80.js";import{u as z}from"./useNotyf.ddf08f06.js";import"./quiz.enum.fc8b95fc.js";const B=p(1),H=p(!1);f((()=>{switch(B.value){case 2:return"Project Info";case 3:return"Project Details";case 4:return"Project Files";case 5:return"Team Members";case 6:return"Project Tools";case 7:return"Preview";case 8:return"Finish";case 1:default:return"Project Type"}})),g({name:"",description:"",relatedTo:"UI/UX Design",logo:null,timeFrame:p({start:new Date,end:new Date}),budget:"< 5K",attachments:[],teammates:[],tools:[],customer:null}),U("data-v-31e72345");const M={class:"account-box is-form"},X={class:"form-head-inner"},Y=k("div",{class:"left"},[k("h3",null,"Learning Note")],-1),J={key:0,class:"right"},Q={key:0,class:"has-text-right buttons"},R=A(" Cancel "),W=A(" Save "),Z={key:1,class:"buttons"},$=A(" Edit "),ee={key:0},ae={class:"form-body"},te={class:"modal-form"},ne=k("label",null,"Student support comment ",-1),se=["readonly"],re=k("br",null,null,-1),le=k("label",null,"Special remark about the student",-1),oe=k("label",null,"Other",-1),ie=["readonly"];N();var ue=j({setup(e){const{learningInfo:a,learningOption:t,learningInfoSelected:n,isEdit:s,onCancelEdit:r,onSave:l}=function(){const{getLearnings:e,createLearnings:a}=K(),{getLearningList:t}=G(),n=g({isLoading:!0,learningInfo:{studentSupportComment:"",learningComment:"",learningLists:[]},learningOption:[],learningInfoSelected:[],isEdit:!1}),s=b(),r=f((()=>parseInt(s.params.id))),l=y();f((()=>"#edit"===s.hash));const u=z(),d=async()=>{const{status:a,data:t}=await e(+r.value);200===a&&(n.learningInfo=t,n.learningInfoSelected=n.learningInfo.learningLists.map((e=>e.id)))},c=async()=>{const e=await t();e&&(n.learningOption=e)};return v((()=>{d(),c();const e=s.hash;n.isEdit="#edit"===e})),i(o({},h(n)),{fetchLearningNoteById:d,fetchLearningOption:c,onCancelEdit:()=>{l.push({name:"students-:id-learning-note",params:s.params})},onSave:async()=>{H.value=!0;const e=i(o({},n.learningInfo),{learningLists:n.learningInfoSelected}),{status:t,data:d,message:c}=await a(+r.value,e);201===t&&(n.learningInfo=d,u.success("Success !"),l.push({name:"students-:id-learning-note",params:s.params}))}})}(),{capabilities:p}=q(),{y:j}=I(),U=f((()=>j.value>30));return(e,o)=>{const i=u,f=d,g=c,b=m;return O(),S("div",M,[k("div",{class:L(["form-head stuck-header",[w(U)&&"is-stuck"]])},[k("div",X,[Y,w(p).canEdit?(O(),S("div",J,[w(s)?(O(),S("div",Q,[_(i,{icon:"lnir lnir-arrow-left rem-100",light:"","dark-outlined":"",onClick:o[0]||(o[0]=e=>w(r)())},{default:x((()=>[R])),_:1}),_(i,{color:"primary",raised:"",onClick:w(l)},{default:x((()=>[W])),_:1},8,["onClick"])])):(O(),S("div",Z,[_(i,{color:"primary",to:"#edit",raised:""},{default:x((()=>[$])),_:1})]))])):C("",!0)])],2),w(a)?(O(),S("div",ee,[k("div",ae,[k("form",te,[_(g,null,{default:x((()=>[ne,_(f,null,{default:x((()=>[P(k("textarea",{"onUpdate:modelValue":o[1]||(o[1]=e=>w(a).studentSupportComment=e),type:"textarea",class:"textarea is-primary-focus",rows:"4",placeholder:"Student support comment",readonly:!w(s)},null,8,se),[[E,w(a).studentSupportComment]])])),_:1})])),_:1}),re,_(g,null,{default:x((()=>[le])),_:1}),(O(!0),S(V,null,D(w(t),((e,a)=>(O(),F(f,{key:a},{default:x((()=>[_(b,{modelValue:w(n),"onUpdate:modelValue":o[2]||(o[2]=e=>T(n)?n.value=e:null),value:e.id,label:e.name,color:"primary",disabled:!w(s),class:"checkbox"},null,8,["modelValue","value","label","disabled"])])),_:2},1024)))),128)),_(g,null,{default:x((()=>[oe,_(f,null,{default:x((()=>[P(k("textarea",{"onUpdate:modelValue":o[3]||(o[3]=e=>w(a).learningComment=e),type:"textarea",class:"textarea is-primary-focus",rows:"4",placeholder:"Others",readonly:!w(s)},null,8,ie),[[E,w(a).learningComment]])])),_:1})])),_:1})])])])):C("",!0)])}}});ue.__scopeId="data-v-31e72345";export default ue;
