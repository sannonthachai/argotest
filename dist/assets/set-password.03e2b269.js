var s=Object.defineProperty,a=Object.defineProperties,e=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,l=(a,e,r)=>e in a?s(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;import{B as n,e as d,p as i,c as u}from"./index.d7dc1ff6.js";import{_ as c,a as p}from"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import{_ as f}from"./FormTemplate.a6fb27bf.js";import{N as m,b as w,A as b,r as P,q as h,k as y,ae as v,d as g,X as j,o as O,y as _,F as k,x as C,g as F,h as x,K as S,ai as V,O as L,n as N,G as R}from"./vendor.1c8b4573.js";function U(){const s=new m({duration:2e3,position:{x:"center",y:"top"}}),i=w();b();const{resetPassword:u}=n(),c=P(!1),p=h({password:"",confirmPassword:""}),f=y((()=>!!p.password&&!!p.confirmPassword&&p.password===p.confirmPassword)),g=y((()=>f.value&&p.password===p.confirmPassword?"is-success-focus":"is-primary-focus"));return j=((s,a)=>{for(var e in a||(a={}))o.call(a,e)&&l(s,e,a[e]);if(r)for(var e of r(a))t.call(a,e)&&l(s,e,a[e]);return s})({},v(p)),a(j,e({isLoading:c,handleResetPassword:async()=>{if(p.password!==p.confirmPassword)return s.error("Password do not match");c.value=!0;const{status:a,message:e}=await u(p.password);201===a?(s.success("Change password successfully!"),i.push({name:"index"})):s.error(d(e)||"Fail"),c.value=!1},isSubmit:f,isFocus:g}));var j}const q=R("Submit"),A=x("label",null,"New Password",-1),B=["disabled"],D=x("label",null,"Confirm Password",-1),E=["disabled"];var G=g({setup(s){const{password:a,confirmPassword:e,isLoading:r,handleResetPassword:o,isSubmit:t,isFocus:l}=U();return i.value="Change Password",j({title:"Whitehouse: Change Password"}),(s,n)=>{const d=u,i=c,m=p,w=f;return O(),_(w,{title:"Change Your Password"},{buttons:k((()=>[C(d,{color:"primary",icon:"lnir lnir-checkmark rem-100",loading:F(r),disabled:!F(t)||F(r),raised:"",onClick:F(o)},{default:k((()=>[q])),_:1},8,["loading","disabled","onClick"])])),default:k((()=>[x("form",null,[x("div",null,[C(m,null,{default:k((()=>[A,C(i,{icon:"feather:lock"},{default:k((()=>[S(x("input",{"onUpdate:modelValue":n[0]||(n[0]=s=>L(a)?a.value=s:null),class:N(["input",F(l)]),disabled:F(r),type:"password",placeholder:"password",autocomplete:"password"},null,10,B),[[V,F(a)]])])),_:1})])),_:1}),C(m,null,{default:k((()=>[D,C(i,{icon:"feather:lock"},{default:k((()=>[S(x("input",{"onUpdate:modelValue":n[1]||(n[1]=s=>L(e)?e.value=s:null),class:N(["input",F(l)]),disabled:F(r),type:"password",placeholder:"confirm-password",autocomplete:"confirm-password"},null,10,E),[[V,F(e)]])])),_:1})])),_:1})])])])),_:1})}}});export default G;
