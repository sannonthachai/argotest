var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,o=(e,a)=>{for(var t in a||(a={}))r.call(a,t)&&n(e,t,a[t]);if(s)for(var t of s(a))i.call(a,t)&&n(e,t,a[t]);return e};import{o as d,c as u}from"./index.d7dc1ff6.js";import{_ as c}from"./QuizStudentsForm.vue_vue&type=script&setup=true&lang.ad4ba8a2.js";import{A as l,b as p,q as f,k as m,ae as v,d as b,T as g,Y as y,o as j,e as h,h as I,g as z,x as q,F as O,i as P,n as _,p as S,G as k,a as w}from"./vendor.1c8b4573.js";import{u as C}from"./useGuardPartner.354c9ce1.js";import{u as D}from"./usePartnerApi.2e3c406b.js";import"./ValidateMessageBox.vue_vue&type=script&setup=true&lang.ac2d19e3.js";import"./VMessage.vue_vue&type=script&setup=true&lang.1bdbe413.js";import"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import"./VSwitchSegment.vue_vue&type=script&setup=true&lang.43f673db.js";import"./SelectOption.vue_vue&type=script&setup=true&lang.934e0be4.js";import"./useOptionApi.f4dc99b9.js";import"./quiz.enum.fc8b95fc.js";import"./student.helper.13430dac.js";import"./student.enum.ad6af513.js";function L(){const e=l(),s=p(),{createPartnerBatchQuiz:r}=D(),i=f({isLoading:!1,validate:{},info:{batchId:0,quizId:0,productId:void 0,name:"",startDate:"",endDate:"",studentIds:[]},validation:{}}),n=m((()=>{var e;return!i.info.batchId||!(null==(e=i.info.studentIds)?void 0:e.length)||!i.info.quizId}));return u=o({},v(i)),a(u,t({disabledSave:n,setPartnerBatchId:async()=>{i.isLoading=!0,i.info.batchId=parseInt(`${e.params.id}`),i.isLoading=!1},onSave:async()=>{i.isLoading=!0;const a=await r(i.info);i.isLoading=!1,d(a,"Quiz in Partner Batch was created!"),a.error||s.push({name:"partners-:id",query:o({},e.query),params:{id:e.params.id}})},clearData:()=>{i.info.studentIds=[],i.info.quizId=0,i.info.name=void 0}}));var u}S("data-v-79d65a63");const x={class:"account-box is-form is-footerless"},A={class:"form-head-inner"},B=I("div",{class:"left"},[I("h2",{class:"title is-5 is-narrow is-bolder"},"Add Quiz")],-1),Q={key:0,class:"right"},V={class:"buttons"},F=k(" Clear Data "),G=k(" Add Quiz "),M={class:"form-body"};w();var E=b({setup(e){p(),l();const{y:a}=g(),{isLoading:t,info:s,disabledSave:r,clearData:i,onSave:n,setPartnerBatchId:o}=L(),{quizs:d}=C();y((async()=>{await o()}));const f=m((()=>a.value>30));return(e,a)=>{const o=u,l=c;return j(),h("div",x,[I("div",{class:_(["form-head stuck-header",[z(f)&&"is-stuck"]])},[I("div",A,[B,z(d).canCreate?(j(),h("div",Q,[I("div",V,[q(o,{icon:"lnir lnir-reload rem-100",light:"","dark-outlined":"",onClick:z(i)},{default:O((()=>[F])),_:1},8,["onClick"]),q(o,{color:"primary",loading:z(t),disabled:z(r),raised:"",onClick:z(n)},{default:O((()=>[G])),_:1},8,["loading","disabled","onClick"])])])):P("",!0)])],2),I("div",M,[q(l,{"quiz-student":z(s),mode:"multiple","onUpdate:quizStudent":a[0]||(a[0]=e=>s.value=e)},null,8,["quiz-student"])])])}}});E.__scopeId="data-v-79d65a63";export default E;
