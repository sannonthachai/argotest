var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,i=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&r(e,t,a[t]);if(l)for(var t of l(a))o.call(a,t)&&r(e,t,a[t]);return e},n=(e,l)=>a(e,t(l));import{_ as u,a as d}from"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import{_ as c}from"./VPlaceholderSection.vue_vue&type=script&setup=true&lang.35b0ad2a.js";import{_ as p}from"./VLoader.vue_vue&type=script&setup=true&lang.a96d7daf.js";import{_ as m}from"./VFlexPagination.86ce707c.js";import{p as f,a as y,d as v,r as g,k as h,b,A as P,S as k,E as w,o as _,e as S,f as j,i as O,h as x,K as C,V,x as $,F as B,aj as A,ai as q,H as E,I as F,t as H,ak as I,y as R,n as z,g as N}from"./vendor.1c8b4573.js";import{_ as K,a as L}from"./search-4-dark.fb3880a5.js";import{u as U}from"./usePaginationRoute.780ca235.js";f("data-v-1b714e16");const J={class:"flex-table-wrapper mt-4"},M={key:0,class:"custom-slot"},T={class:"flex-table-toolbar"},D={class:"left"},G=["placeholder","onKeyup"],Q={class:"right"},W={class:"select is-rounded"},X=["value"],Y=x("label",null,"Custom columns",-1),Z=x("img",{class:"light-image",src:K,alt:"light-empty"},null,-1),ee=x("img",{class:"dark-image",src:L,alt:"dark-empty"},null,-1),ae={key:1,class:"s-datatable"},te={class:"datatable-footer-wrapper"},le={key:0,class:"showing-message"};y();var se=v({props:{total:{type:Number,default:100},canSearchable:{type:Boolean,default:!0},searchPlaceholder:{type:String,default:"Filter..."},headers:{type:Array,required:!0},data:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!1},isAction:{type:Boolean,default:!1},customPerPageOption:{type:Array,default:()=>[10,25,50,100]},hidePagination:{type:Boolean,default:!1},hidePerPage:{type:Boolean,default:!1},defaultViewHeaders:{type:Array,default:()=>[]},canCustomHeader:{type:Boolean,default:!1},canSort:{type:Boolean,default:!1},keyStorage:{type:String,default:""},showItemOfEntires:{type:Boolean,default:!0}},emits:["sort-table"],setup(e,{emit:a}){const t=e,l=g(t.defaultViewHeaders||t.headers.map((e=>e.key))),s=h((()=>t.canCustomHeader?t.headers.filter((e=>l.value.some((a=>a===e.key)))):t.headers)),o=h((()=>JSON.parse(L||"[]"))),r=h((()=>{const e=s.value.map((e=>{const a=[e.isFreeze&&"col-freeze",e.isCenter&&"has-text-centered",e.isEnd&&"has-text-right"];return n(i({},e),{field:e.key,sortable:!!e.sortable,thClass:a.join(" "),tdClass:e.isFreeze?"col-freeze":void 0})}));return t.isAction?e.concat([{label:"Actions",key:"action",field:"action",isRaw:!0,sortable:!1,thClass:void 0,tdClass:void 0}]):e})),f=e=>{const a=s.value.find((a=>a.key===e));return[(null==a?void 0:a.isEnd)&&"is-flex is-justify-content-flex-end",(null==a?void 0:a.isCenter)&&"is-flex is-justify-content-center",null==a?void 0:a.customRowClass]},{currentPage:y,perPage:v,search:K,sort:L}=U(),se=b(),oe=P(),re=g(y||1),ie=g(v||10),ne=g(K||""),ue=h((()=>Math.ceil(t.total/ie.value)||1)),de=h((()=>{const e=(re.value-1)*ie.value+1,a=ue.value===re.value?t.total:ie.value*re.value;return`Showing ${e} to ${a} of ${t.total||a} entries`})),ce=e=>{const a=n(i({},oe.query),{perPage:ie.value});se.push({name:oe.name||"index",params:oe.params,query:a})},pe=()=>{se.push({query:n(i({},oe.query),{page:1,search:ne.value||void 0})})},me=e=>{if(e.length){const l=e.map((e=>n(i({},e),{type:"none"===e.type?"asc":e.type})));t.canSort&&se.push({query:n(i({},oe.query),{sort:JSON.stringify(l)})}),a("sort-table",l)}},fe=()=>{t.keyStorage&&localStorage.setItem(t.keyStorage,l.value.join())};return k((()=>ne.value),(()=>0===ne.value.length?pe():null)),(a,t)=>{const s=u,i=d,n=w("Multiselect"),y=c,v=w("VueGoodTable"),g=p,h=m;return _(),S("div",J,[a.$slots.custom?(_(),S("div",M,[j(a.$slots,"custom",{},void 0,!0)])):O("",!0),x("div",T,[x("div",D,[C($(i,null,{default:B((()=>[$(s,{icon:"feather:search"},{default:B((()=>[C(x("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>ne.value=e),type:"text",class:"input is-rounded",placeholder:e.searchPlaceholder,onKeyup:A(pe,["enter"])},null,40,G),[[q,ne.value]])])),_:1})])),_:1},512),[[V,e.canSearchable]]),j(a.$slots,"custom-left",{},void 0,!0)]),x("div",Q,[C($(i,null,{default:B((()=>[$(s,null,{default:B((()=>[x("div",W,[C(x("select",{"onUpdate:modelValue":[t[1]||(t[1]=e=>ie.value=e),ce]},[(_(!0),S(E,null,F(e.customPerPageOption,(e=>(_(),S("option",{key:`op-page-${e}`,value:e},H(e)+" results per page ",9,X)))),128))],512),[[I,ie.value]])])])),_:1})])),_:1},512),[[V,!e.hidePerPage]]),C($(i,null,{default:B((()=>[Y,$(s,null,{default:B((()=>[$(n,{modelValue:l.value,"onUpdate:modelValue":[t[2]||(t[2]=e=>l.value=e),fe],mode:"multiple",options:e.headers,"value-prop":"key",placeholder:"Select options","hide-selected":!1,"can-clear":!1},null,8,["modelValue","options"])])),_:1})])),_:1},512),[[V,e.canCustomHeader]]),j(a.$slots,"custom-right",{},void 0,!0)])]),$(g,{size:"large",translucent:"",active:e.isLoading},{default:B((()=>[a.$slots["custom-table"]?(_(),S("div",ae,[j(a.$slots,"custom-table",{columns:N(r)},void 0,!0)])):(_(),R(v,{key:0,ref:(e,a)=>{a.tableRef=e},mode:"remote","style-class":"vgt-table",columns:N(r),rows:e.data,"sort-options":{enabled:!0,multipleColumns:!0,initialSortBy:N(o)},class:"s-datatable",onSortChange:me},{"table-row":B((({column:e,row:t,formattedRow:l})=>[a.$slots[e.field]?(_(),S("span",{key:0,class:z(f(e.field))},[j(a.$slots,e.field,{value:e.isRaw?t:l[e.field]},void 0,!0)],2)):(_(),S("span",{key:1,class:z(f(e.field))},H(l[e.field]),3))])),emptystate:B((()=>[$(y,{title:"No data to show",subtitle:"There is currently no data to show in this list."},{image:B((()=>[Z,ee])),_:1})])),_:3},8,["columns","rows","sort-options"]))])),_:3},8,["active"]),x("div",te,[e.showItemOfEntires?(_(),S("div",le,H(N(de)),1)):O("",!0),C($(h,{"item-per-page":ie.value,"total-items":e.total,"current-page":re.value,"max-links-displayed":7},null,8,["item-per-page","total-items","current-page"]),[[V,!e.hidePagination]])])])}}});se.__scopeId="data-v-1b714e16";export{se as _};
