var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t;import{_ as r}from"./ConfirmRemoveModal.3ba4d6d1.js";import{e as n,p as u,c,h as d}from"./index.d7dc1ff6.js";import{_ as m}from"./VTag.vue_vue&type=script&setup=true&lang.b31af8ee.js";import{_ as v}from"./Datatable.aae3ef08.js";import{r as p,q as f,Y as b,ae as g,d as y,X as h,E as j,av as k,o as E,e as _,x as P,g as w,F as C,h as O,t as R,H as x,I as L,K as V,G as A,p as I,a as $}from"./vendor.1c8b4573.js";import{u as M}from"./useAssessmentEvaluationApi.428f57a1.js";import{u as N}from"./useNotyf.ddf08f06.js";import{u as S}from"./usePaginationRoute.780ca235.js";import"./VPlaceholderSection.vue_vue&type=script&setup=true&lang.35b0ad2a.js";import"./VModal.31b4f4ba.js";import"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import"./VLoader.vue_vue&type=script&setup=true&lang.a96d7daf.js";import"./VFlexPagination.86ce707c.js";import"./search-4-dark.fb3880a5.js";function T(){const e=p([{key:"id",label:"ID"},{key:"title",label:"Title"},{key:"lessonNo",label:"Lesson No."},{key:"curriculum",label:"Curriculum",isRaw:!0},{key:"items",label:"Evaluation Item"},{key:"scores",label:"Evaluation Score"},{key:"action",label:"Action",isRaw:!0,isEnd:!0}]),r=f({isLoading:!1,evaluations:[],total:0,selectedEval:void 0}),u=N(),{currentPage:c,perPage:d,search:m}=S(),{getAllEvaluation:v,removeEvaluationById:y}=M(),h=async()=>{r.isLoading=!0;const e=await v({currentPage:c,perPage:d,search:m});r.isLoading=!1,r.evaluations=(null==e?void 0:e.data)||[],r.total=(null==e?void 0:e.total)||0};return b((()=>{h()})),j=((e,a)=>{for(var s in a||(a={}))l.call(a,s)&&o(e,s,a[s]);if(t)for(var s of t(a))i.call(a,s)&&o(e,s,a[s]);return e})({},g(r)),a(j,s({headerTable:e,removeEvaluation:async()=>{if(!r.selectedEval)return;const{code:e,message:a}=await y(r.selectedEval.id);e?u.error(n(a)):u.success(`Remove ${r.selectedEval.title} Success!`),r.selectedEval=void 0,h()}}));var j}I("data-v-2eb15a70");const D={class:"is-flex is-justify-content-flex-end"},F=A("Create"),W=["href"],q={class:"content"},B={class:"content"},G={class:"dark-inverted is-flex is-justify-content-flex-end"},H=A(" Actions "),K=O("div",{class:"icon"},[O("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1),X=O("div",{class:"meta"},[O("span",null,"View"),O("span",null,"View evaluation details")],-1),Y=O("div",{class:"icon"},[O("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1),z=O("div",{class:"meta"},[O("span",null,"Edit"),O("span",null,"Edit evaluation details")],-1),J=["onClick"],Q=[O("div",{class:"icon"},[O("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),O("div",{class:"meta"},[O("span",null,"Remove"),O("span",null,"Remove from list")],-1)];$();var U=y({setup(e){const{evaluations:a,isLoading:s,selectedEval:t,total:l,headerTable:i,removeEvaluation:o}=T(),n=["primary","blue","danger","info","purple","secondary","blue","success"];return u.value="Whitehouse Assessment Package",h({title:"Whitehouse Assessment Package"}),(e,u)=>{var p;const f=r,b=c,g=m,y=c,h=j("RouterLink"),I=d,$=v,M=k("tooltip");return E(),_("div",null,[P(f,{open:!!w(t),subtitle:`Remove ${null==(p=w(t))?void 0:p.title}`,onConfirm:w(o),onClose:u[0]||(u[0]=e=>t.value=void 0)},null,8,["open","subtitle","onConfirm"]),P($,{"is-loading":w(s),headers:w(i),data:w(a),total:w(l)},{"custom-right":C((()=>[O("div",D,[P(b,{color:"primary",icon:"feather:plus",to:{name:"products-assessments-create"}},{default:C((()=>[F])),_:1})])])),lessonNo:C((({value:e})=>{return[P(g,{label:`Lesson ${e}`,color:(a=e,n[Math.floor(a/6)-1]),outlined:""},null,8,["label","color"])];var a})),curriculum:C((({value:e})=>[O("a",{href:e.curriculum.studentMaterial,class:"doc-link",target:"_blank"}," (id: "+R(e.curriculum.id)+") "+R(e.curriculum.name),9,W)])),items:C((({value:e})=>[O("div",q,[O("ul",null,[(E(!0),_(x,null,L(e,(e=>(E(),_("li",{key:e.key},[V(O("p",null,[A(R(e.title),1)],512),[[M,e.objective]])])))),128))])])])),scores:C((({value:e})=>[O("div",B,[O("ul",null,[(E(!0),_(x,null,L(e,(e=>(E(),_("li",{key:e.value},[O("p",null,R(e.title)+" - "+R(e.value),1)])))),128))])])])),action:C((({value:e})=>[O("div",G,[P(I,{spaced:"",right:""},{button:C((({toggle:e})=>[P(y,{icon:"feather:more-vertical",class:"is-trigger",onClick:e},{default:C((()=>[H])),_:2},1032,["onClick"])])),content:C((()=>[P(h,{role:"menuitem",class:"dropdown-item is-media",to:{name:"products-assessments-:id",params:{id:`${e.id}`}}},{default:C((()=>[K,X])),_:2},1032,["to"]),P(h,{role:"menuitem",class:"dropdown-item is-media",to:{name:"products-assessments-:id",params:{id:`${e.id}`},hash:"#edit"}},{default:C((()=>[Y,z])),_:2},1032,["to"]),O("a",{role:"menuitem",class:"dropdown-item is-media",onClick:a=>t.value=e},Q,8,J)])),_:2},1024)])])),_:1},8,["is-loading","headers","data","total"])])}}});U.__scopeId="data-v-2eb15a70";export default U;
