var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(l,a,s)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[a]=s,n=(e,l)=>{for(var a in l||(l={}))t.call(l,a)&&i(e,a,l[a]);if(s)for(var a of s(l))o.call(l,a)&&i(e,a,l[a]);return e},d=(e,s)=>l(e,a(s));import{_ as r}from"./VMessage.vue_vue&type=script&setup=true&lang.1bdbe413.js";import{d as c,r as u,k as p,w as v,o as m,e as b,h as f,ao as y,g,n as h,q as S,Y as V,ae as R,p as C,a as k,S as D,E as I,y as T,F as O,x,G as E,t as j,K as _,V as w,I as U,ai as P,H as A,ah as L,i as M,O as z}from"./vendor.1c8b4573.js";import{o as N,c as q,j as F}from"./index.d7dc1ff6.js";import{_ as W,a as Y}from"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import{_ as B}from"./SelectOption.vue_vue&type=script&setup=true&lang.934e0be4.js";import{_ as $}from"./VCard.vue_vue&type=script&setup=true&lang.27754e87.js";import{_ as G}from"./VRadio.89eaf975.js";import{E as H,_ as K}from"./useGuardClassReport.038d8a9c.js";import{_ as J}from"./VModal.31b4f4ba.js";import{P as Q,d as X,e as Z,c as ee}from"./class-report.enum.31771efb.js";import{u as le}from"./useNotyf.ddf08f06.js";import{u as ae}from"./useClassroomApi.cba9f1f2.js";import{u as se}from"./useOptionApi.f4dc99b9.js";import{c as te}from"./text.helper.174bd8fa.js";const oe=["checked","value"],ie=f("svg",{class:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},[f("circle",{class:"checkmark-circle",cx:"26",cy:"26",r:"25",fill:"none"}),f("path",{class:"checkmark-check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})],-1);let ne=0;var de=c({props:{value:{type:[String,Number],required:!1,default:void 0},color:{type:String,required:!1,default:void 0},modelValue:{type:Array,required:!1,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,s="animated-checkbox-"+ ++ne,t=u(),o=u(),i=p((()=>a.modelValue.includes(a.value)));function n(){const e=[...a.modelValue];i.value?e.splice(e.indexOf(a.value),1):e.push(a.value),l("update:modelValue",e)}return v((()=>{t.value&&o.value&&(i.value?(t.value.classList.add("is-checked"),o.value.classList.add("is-opaque"),setTimeout((()=>{var e;null==(e=t.value)||e.classList.remove("is-unchecked")}),150)):(t.value.classList.add("is-unchecked"),t.value.classList.remove("is-checked"),setTimeout((()=>{var e;null==(e=o.value)||e.classList.remove("is-opaque")}),150)))})),(l,d)=>(m(),b("div",{ref:(e,l)=>{l.element=e,t.value=e},class:h(["animated-checkbox",[e.color&&"is-"+e.color]])},[f("input",y({id:s,type:"checkbox",checked:g(i),value:a.value},l.$attrs,{onChange:n}),null,16,oe),f("label",{for:s,class:"checkmark-wrap"},[f("div",{ref:(e,l)=>{l.innerElement=e,o.value=e},class:"shadow-circle"},null,512),ie])],2))}});C("data-v-5460f263");const re={class:"modal-form"},ce={class:"attendance"},ue=f("p",{class:"pl-3 title is-6"},"Attendance Problem",-1),pe=E(" Add Attendance "),ve={class:"columns is-flex-tablet-p is-half-tablet-p is-multiline"},me={class:"field is-horizontal"},be=f("div",{class:"field-label is-flex is-align-items-center is-justify-content-end"},[f("label",{class:"label"},[E("Attendee "),f("span",{class:"red"}," * ")])],-1),fe={class:"field-body"},ye={class:"field"},ge={class:"control"},he={class:"multiselect-single-label"},Se={class:"select-option-text"},Ve={class:"field is-horizontal"},Re=f("div",{class:"field-label is-flex is-align-items-center is-justify-content-end"},[f("label",{class:"label"},[E("Attendance "),f("span",{class:"red"}," * ")])],-1),Ce={class:"field-body"},ke={class:"field"},De={class:"control"},Ie={class:"multiselect-single-label"},Te={class:"select-option-text"},Oe={class:"field is-horizontal"},xe=f("div",{class:"field-label is-flex is-align-items-center is-justify-content-end"},[f("label",{class:"label"},[E("Reason "),f("span",{class:"red"}," * ")])],-1),Ee={class:"field-body"},je={class:"field"},_e={class:"control"},we={class:"field is-horizontal"},Ue=f("div",{class:"field-label is-flex is-align-items-center is-justify-content-end"},[f("label",{class:"label"},[E("Etc "),f("span",{class:"red"}," * ")])],-1),Pe={class:"field-body"},Ae={class:"field"},Le={class:"control"},Me=["onUpdate:modelValue","readonly"],ze=f("hr",null,null,-1),Ne={class:"attendance"},qe=f("p",{class:"pl-3 title is-6"},"Problem Within Class",-1),Fe=E(" Add Problem From ... "),We={class:"columns is-flex-tablet-p is-half-tablet-p is-multiline"},Ye={class:"field is-horizontal"},Be=f("div",{class:"field-label is-flex is-align-items-center is-justify-content-end"},[f("label",{class:"label"},[E("From "),f("span",{class:"red"}," * ")])],-1),$e={class:"field-body"},Ge={class:"field"},He={class:"control"},Ke={class:"multiselect-single-label"},Je={class:"select-option-text"},Qe={class:"field is-horizontal"},Xe=f("div",{class:"field-label is-flex is-align-items-center is-justify-content-end"},[f("label",{class:"label"},[E("Issues "),f("span",{class:"red"}," * ")])],-1),Ze={class:"field-body"},el={class:"field"},ll={class:"control"},al={class:"multiselect-tag"},sl=["onMousedown"],tl=[f("span",{class:"multiselect-tag-remove-icon"},null,-1)],ol={class:"select-option-text"},il={class:"field is-horizontal"},nl=f("div",{class:"field-label is-flex is-align-items-center is-justify-content-end"},[f("label",{class:"label"},[E("Etc "),f("span",{class:"red"}," * ")])],-1),dl={class:"field-body"},rl={class:"field"},cl={class:"control"},ul=["onUpdate:modelValue","readonly"],pl={key:0,class:"field is-horizontal"},vl=f("div",{class:"field-label is-flex is-align-items-center is-justify-content-end"},[f("label",{class:"label"},[E("Device OS "),f("span",{class:"red"}," * ")])],-1),ml={class:"field-body"},bl={class:"field"},fl={class:"control"},yl={class:"multiselect-single-label"},gl={class:"select-option-text"},hl={key:1,class:"field is-horizontal"},Sl=f("div",{class:"field-label is-flex is-align-items-center is-justify-content-end"},[f("label",{class:"label"},[E("Category "),f("span",{class:"red"}," * ")])],-1),Vl={class:"field-body"},Rl={class:"field"},Cl={class:"control"},kl={class:"multiselect-single-label"},Dl={class:"select-option-text"},Il={class:"field is-horizontal pr-5"},Tl=f("div",{class:"field-label is-flex is-align-items-center is-justify-content-end"},[f("label",{class:"label"},[E("Problem time "),f("span",{class:"red"}," * ")])],-1),Ol={class:"field-body"},xl={class:"field"},El={class:"control"},jl={class:"multiselect-single-label"},_l={class:"select-option-text"},wl={class:"field is-horizontal pr-5"},Ul=f("div",{class:"field-label is-flex is-align-items-center is-justify-content-end"},[f("label",{class:"label"},[E("Problem status "),f("span",{class:"red"}," * ")])],-1),Pl={class:"field-body"},Al={class:"field"},Ll={class:"control"},Ml={key:0,class:"field is-horizontal pr-5"},zl=f("div",{class:"field-label is-flex is-align-items-center is-justify-content-end"},[f("label",{class:"label"},[E("Solved time "),f("span",{class:"red"}," * ")])],-1),Nl={class:"field-body"},ql={class:"field"},Fl={class:"control"},Wl={class:"multiselect-single-label"},Yl={class:"select-option-text"},Bl={key:1},$l={class:"field is-horizontal pr-5"},Gl=f("div",{class:"field-label is-flex is-align-items-center is-justify-content-end"},[f("label",{class:"label"},[E("Solution "),f("span",{class:"red"}," * ")])],-1),Hl={class:"field-body"},Kl={class:"field"},Jl={class:"control"},Ql={class:"field is-horizontal pr-5"},Xl=f("div",{class:"field-label is-flex is-align-items-center is-justify-content-end"},[f("label",{class:"label"},[E("Etc "),f("span",{class:"red"}," * ")])],-1),Zl={class:"field-body"},ea={class:"field"},la={class:"control"},aa=["readonly"],sa=f("hr",null,null,-1),ta={class:"field is-horizontal pr-5"},oa=f("div",{class:"field-label is-flex is-align-items-center is-justify-content-end"},[f("label",{class:"label"},[E("Class Status"),f("span",{class:"red"}," * ")])],-1),ia={class:"field-body"},na={class:"field"},da={class:"control"},ra=E("Save");k();var ca=c({props:{modelValue:{type:Boolean,default:!1,required:!0},classId:{type:Number,required:!0},classReport:{type:Object,required:!1,default:void 0},readonly:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue","saved-report"],setup(e,{emit:l}){const a=e,{getReasonClassReport:s,getSolutionClassReport:t}=se(),o=()=>t(),i=()=>s(ee.ATTENDEE,{currentPage:1,perPage:40}),c=e=>{var l;return e?null==(l=null==va?void 0:va.value)?void 0:l.attendances[e]:[]},{attendees:v,problems:y,solveTime:h,problemTime:C,problemStatus:k,solution:oe,ticketReturn:ie,detail:ne,callStatus:ca,classStatus:ua,studentSatisfaction:pa,reportOption:va,problemCategoryOption:ma,disabledSave:ba,isDisableAddAttendee:fa,isDisableProblemValidate:ya,isDisableAttendeeValidate:ga,isDisableAddProblem:ha,onSaveSystemReport:Sa,fetchReportOption:Va,onSaving:Ra,systemReportId:Ca}=function(){const{getProblemClassReport:e,getTypeClassReport:l,getReasonClassReport:a}=se(),{createSystemReport:s,updateSystemReport:t}=ae(),o=le(),i=S({systemReportId:void 0,attendees:[],problems:[],problemStatus:null,solveTime:null,problemTime:null,solution:{},detail:"",ticketReturn:void 0,callStatus:void 0,classStatus:void 0,studentSatisfaction:void 0,onSaving:!1,reportOption:{attendances:{coach:[],student:[]},attendanceTypes:[],systemFroms:[],cancelFroms:[],operatingSystems:[],problemCategories:[],classIssueStatuses:[],classProblemStatuses:[],problemTimes:[],ticketReturns:[],callStatuses:[],studentSatisfactions:[],solveTimes:[],classTypes:[],categories:[],cancellationTimes:[]},problemCategoryOption:{attendee:[],system:[]}}),r=p((()=>!(i.classStatus&&i.callStatus&&i.studentSatisfaction&&i.ticketReturn&&(i.attendees.length||i.problems.length)))),c=p((()=>i.attendees.length==i.reportOption.attendanceTypes.length)),u=p((()=>i.problems.length==i.reportOption.systemFroms.length)),v=p((()=>!!i.attendees.find((e=>!e.type||!e.attendance||!e.reasonId||(null==e?void 0:e.reasonId)===H.ATTENDEE_REASON&&!e.etcDescription)))),m=p((()=>{const e=i.problems.find((e=>{var l,a;return!e.from||e.from===Q.STUDENT&&!e.operatingSystem||e.from===Q.COACH&&!e.operatingSystem||e.from===Q.SYSTEM&&!e.problemCategory||e.category===X.SYSTEM&&!e.problemCategory||!(null==(l=e.problemIssues)?void 0:l.length)||(null==(a=null==e?void 0:e.problemIssues)?void 0:a.some((e=>H.PROBLEM.includes(e))))&&!e.etcDescription})),l=!i.problemTime||!i.problemStatus||i.problemStatus===Z.SOLVED&&(!i.solveTime||!i.solution.id||i.solution.id===H.SOLUTION&&!i.solution.etcDescription);return!!e||!!l})),b=async()=>{const a=await l();a&&(i.reportOption=a);const[s,t]=await Promise.all([e(X.ATTENDEE,{currentPage:1,perPage:40}),e(X.SYSTEM,{currentPage:1,perPage:40})]);s&&(i.problemCategoryOption.attendee=s),t&&(i.problemCategoryOption.system=t)};return V((async()=>{await b()})),d(n({},R(i)),{disabledSave:r,isDisableAddAttendee:c,isDisableProblemValidate:m,isDisableAttendeeValidate:v,isDisableAddProblem:u,fetchReportOption:b,onSaveSystemReport:async e=>{var l,a,r,c,u;i.onSaving=!0;const p=i.problemStatus==Z.SOLVED&&(null==(l=i.solution)?void 0:l.id)?[{id:null==(a=i.solution)?void 0:a.id,etcDescription:(null==(r=i.solution)?void 0:r.etcDescription)||void 0}]:void 0,v={classId:e,attendees:null==(c=i.attendees)?void 0:c.map((e=>({attendance:e.attendance,reasons:(null==e?void 0:e.reasonId)?[{id:null==e?void 0:e.reasonId,etcDescription:(null==e?void 0:e.etcDescription)||void 0}]:[],type:null==e?void 0:e.type}))),solutions:p,problems:null==(u=i.problems)?void 0:u.map((e=>{var l;const a=(null==(l=null==e?void 0:e.problemIssues)?void 0:l.map((l=>({id:l,etcDescription:H.PROBLEM.includes(l)?null==e?void 0:e.etcDescription:void 0}))))||[];return{from:null==e?void 0:e.from,problemIssues:a,operatingSystem:(null==e?void 0:e.operatingSystem)||void 0,problemCategory:(null==e?void 0:e.problemCategory)||void 0}})),problemStatus:i.problemStatus,solveTime:i.solveTime,problemTime:i.problemTime,ticketReturn:i.ticketReturn,detail:(null==i?void 0:i.detail)||void 0,classStatus:i.classStatus,callStatus:i.callStatus,studentSatisfaction:i.studentSatisfaction};if(i.systemReportId){const e=await t(d(n({},v),{reportClassIssueId:i.systemReportId}));200===e.status?N(e,"Problem class report was updated!"):o.error("Something went wrong!")}else{const e=await s(v);201===e.status?N(e,"Problem class report was created!"):o.error("Something went wrong!")}i.onSaving=!1}})}(),ka=u([]),Da=u(!1),Ia=u(!1),Ta=()=>{l("update:modelValue",!1),v.value=[],y.value=[],h.value=null,C.value=null,k.value=null,oe.value={},ie.value=void 0,ne.value="",ca.value=void 0,ua.value=void 0,pa.value=void 0,ka.value=[],Ia.value=!1,Da.value=!1},Oa=()=>{oe.value.id!==H.SOLUTION&&(oe.value.etcDescription=void 0)},xa=async()=>{await Sa(a.classId),l("saved-report"),Ta()},Ea=()=>{v.value.length<va.value.attendanceTypes.length&&v.value.push({type:void 0,attendance:void 0,reasonId:void 0,etcDescription:void 0})},ja=()=>{y.value.length<va.value.systemFroms.length&&y.value.push({from:void 0,problemIssues:[],operatingSystem:void 0,problemCategory:void 0,category:void 0})},_a=e=>{ka.value=e,ka.value.includes("problemWithinClass")?(Da.value=!0,y.value.length||ja()):ka.value.includes("problemWithinClass")||(k.value=null,y.value=[],h.value=null,oe.value={id:0,etcDescription:void 0},C.value=null,Da.value=!1),ka.value.includes("attendance")?(Ia.value=!0,v.value.length||Ea()):ka.value.includes("attendance")||(Ia.value=!1,v.value=[])};return D((()=>(null==a?void 0:a.classReport)||0==Ra.value),(async()=>{var e,l,s,t,o,i,n,d,r,c,u,p,m,b,f,g,S,V,R,D,I,T,O,x,E,j,_,w,U;Ca.value=(null==(e=a.classReport)?void 0:e.id)||void 0,ka.value=[],Ia.value=!1,v.value=[],Da.value=!1,k.value=(null==(l=a.classReport)?void 0:l.problemStatus)||null,h.value=(null==(s=a.classReport)?void 0:s.solveTime)||null,C.value=(null==(t=a.classReport)?void 0:t.problemTime)||null,ca.value=(null==(o=a.classReport)?void 0:o.callStatus)||void 0,ne.value=(null==(i=a.classReport)?void 0:i.detail)||void 0,ua.value=(null==(n=a.classReport)?void 0:n.classStatus)||void 0,ie.value=(null==(d=a.classReport)?void 0:d.ticketReturn)||void 0,pa.value=(null==(r=a.classReport)?void 0:r.studentSatisfaction)||void 0,oe.value={},(null==a?void 0:a.classReport)&&(null==(u=null==(c=null==a?void 0:a.classReport)?void 0:c.attendees)?void 0:u.length)>0?(ka.value.push("attendance"),Ia.value=!0,v.value=null==(m=null==(p=a.classReport)?void 0:p.attendees)?void 0:m.map((e=>{var l,a,s,t;return{type:null==e?void 0:e.type,attendance:null==e?void 0:e.attendance,reasonId:(null==(a=null==(l=null==e?void 0:e.reasons)?void 0:l[0])?void 0:a.problemReasonId)||0,attendeeId:null==e?void 0:e.attendeeId,etcDescription:null==(t=null==(s=null==e?void 0:e.reasons)?void 0:s[0])?void 0:t.etcDescription}}))):(null==(f=null==(b=null==a?void 0:a.classReport)?void 0:b.attendees)?void 0:f.length)||(v.value=[]),(null==a?void 0:a.classReport)&&(null==(S=null==(g=null==a?void 0:a.classReport)?void 0:g.problems)?void 0:S.length)>0||(null==k?void 0:k.value)?(ka.value.push("problemWithinClass"),Da.value=!0,y.value=null==(R=null==(V=a.classReport)?void 0:V.problems)?void 0:R.map((e=>{var l,a;const s=(null==(l=null==e?void 0:e.problemIssues)?void 0:l.map((e=>e.problemIssueId)))||[],t=null==(a=null==e?void 0:e.problemIssues)?void 0:a.find((e=>{if(e.etcDescription)return e.etcDescription}));return{from:null==e?void 0:e.from,category:null==e?void 0:e.category,operatingSystem:(null==e?void 0:e.operatingSystem)||void 0,problemCategory:(null==e?void 0:e.problemCategory)||void 0,problemIssues:s,etcDescription:null==t?void 0:t.etcDescription}}))):(null==(I=null==(D=null==a?void 0:a.classReport)?void 0:D.problems)?void 0:I.length)||(y.value=[]),(null==a?void 0:a.classReport)&&(null==(O=null==(T=null==a?void 0:a.classReport)?void 0:T.solutions)?void 0:O.length)>0&&(oe.value={id:(null==(j=null==(E=null==(x=null==a?void 0:a.classReport)?void 0:x.solutions)?void 0:E[0])?void 0:j.solutionId)||0,etcDescription:null==(U=null==(w=null==(_=null==a?void 0:a.classReport)?void 0:_.solutions)?void 0:w[0])?void 0:U.etcDescription})})),D((()=>null==k?void 0:k.value),(()=>{(null==k?void 0:k.value)===Z.UNSOLVED&&(h.value=null,oe.value={id:0,etcDescription:void 0})})),(l,a)=>{const s=r,t=de,u=q,p=W,S=Y,V=F,R=I("Multiselect"),D=B,N=$,Q=G,ee=K,le=q,ae=J;return m(),T(ae,{open:e.modelValue,title:`Report Within Class (Class ID: ${e.classId})`,size:"big",actions:"right",onClose:Ta},{content:O((()=>{var l;return[x(s,{color:"primary",style:{"white-space":"pre-line"}},{default:O((()=>[E(j(g(Ca)?`Update Report Within Class : (Report ID ${g(Ca)})`:"Create Report Within Class\n            ** You can select or not select the problem **"),1)])),_:1}),f("form",re,[x(S,null,{default:O((()=>[x(p,{class:"attendance is-justify-content-space-between"},{default:O((()=>[f("div",ce,[x(t,{modelValue:ka.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>ka.value=e),_a],value:"attendance",color:"success",disabled:e.readonly},null,8,["modelValue","disabled"]),ue]),_(x(u,{icon:"feather:plus",color:"warning",disabled:g(fa)||e.readonly,onClick:Ea},{default:O((()=>[pe])),_:1},8,["disabled"]),[[w,Ia.value]])])),_:1})])),_:1}),f("div",ve,[(m(!0),b(A,null,U(g(v),((l,a)=>(m(),b("div",{key:a,class:"column is-6 select-card"},[x(V,{class:"close-button",color:"danger",light:"",circle:"",icon:"feather:x",disabled:e.readonly,onClick:e=>(e=>{if(e>-1&&(null==v||v.value.splice(e,1)),!(null==v?void 0:v.value.length)){const e=ka.value.indexOf("attendance");ka.value.splice(e,1),Ia.value=!1}})(a)},null,8,["disabled","onClick"]),x(N,{class:"p-5"},{default:O((()=>[f("div",me,[be,f("div",fe,[f("div",ye,[f("div",ge,[x(R,{key:a,modelValue:l.type,"onUpdate:modelValue":e=>l.type=e,options:g(va).attendanceTypes,searchable:!1,placeholder:"select attendee type","can-clear":!1,disabled:e.readonly},{singlelabel:O((({value:e})=>[f("div",he,j(g(te)(e.label)),1)])),option:O((({option:e})=>[f("span",Se,j(g(te)(e.label)),1)])),_:2},1032,["modelValue","onUpdate:modelValue","options","disabled"])])])])]),f("div",Ve,[Re,f("div",Ce,[f("div",ke,[f("div",De,[x(R,{modelValue:l.attendance,"onUpdate:modelValue":e=>l.attendance=e,options:c(l.type),searchable:!1,value:l.attendance,"value-prop":"value",placeholder:"select attendance","can-clear":!1,disabled:e.readonly},{singlelabel:O((({value:e})=>[f("div",Ie,j(g(te)(e.label)),1)])),option:O((({option:e})=>[f("span",Te,j(g(te)(e.label)),1)])),_:2},1032,["modelValue","onUpdate:modelValue","options","value","disabled"])])])])]),f("div",Oe,[xe,f("div",Ee,[f("div",je,[f("div",_e,[x(D,{modelValue:l.reasonId,"onUpdate:modelValue":e=>l.reasonId=e,searchable:!1,"callback-search":i,"label-by":"name","value-prop":"id",placeholder:"select reason","is-show-id":!1,"can-clear":!1,disabled:e.readonly,onClear:e=>l.reasonId=void 0},null,8,["modelValue","onUpdate:modelValue","disabled","onClear"])])])])]),_(f("div",we,[Ue,f("div",Pe,[f("div",Ae,[f("div",Le,[_(f("input",{"onUpdate:modelValue":e=>l.etcDescription=e,type:"text",class:"input",placeholder:"input description",readonly:e.readonly},null,8,Me),[[P,l.etcDescription]])])])])],512),[[w,(null==l?void 0:l.reasonId)===g(H).ATTENDEE_REASON||l.etcDescription]])])),_:2},1024)])))),128))]),ze,x(S,null,{default:O((()=>[x(p,{class:"attendance is-justify-content-space-between"},{default:O((()=>[f("div",Ne,[x(t,{modelValue:ka.value,"onUpdate:modelValue":[a[1]||(a[1]=e=>ka.value=e),_a],value:"problemWithinClass",color:"success",disabled:e.readonly},null,8,["modelValue","disabled"]),qe]),_(x(u,{icon:"feather:plus",disabled:g(ha)||e.readonly,color:"warning",onClick:ja},{default:O((()=>[Fe])),_:1},8,["disabled"]),[[w,Da.value]])])),_:1})])),_:1}),_(f("div",null,[f("div",We,[(m(!0),b(A,null,U(g(y),((l,s)=>(m(),b("div",{key:s,class:"column is-6 select-card"},[x(V,{class:"close-button",color:"danger",circle:"",light:"",icon:"feather:x",disabled:e.readonly,onClick:e=>(e=>{if(e>-1&&(null==y||y.value.splice(e,1)),!(null==y?void 0:y.value.length)){const e=ka.value.indexOf("problemWithinClass");ka.value.splice(e,1),Da.value=!1,k.value=null,h.value=null,C.value=null}})(s)},null,8,["disabled","onClick"]),x(N,{class:"p-5"},{default:O((()=>{var t;return[f("div",Ye,[Be,f("div",$e,[f("div",Ge,[f("div",He,[x(R,{key:s,modelValue:l.from,"onUpdate:modelValue":[e=>l.from=e,e=>(e=>{var l;(null==(l=y.value)?void 0:l[e])&&(y.value[e]=d(n({},y.value[e]),{problemIssues:[],operatingSystem:void 0,problemCategory:void 0,category:void 0,etcDescription:void 0}))})(s)],options:g(va).systemFroms,searchable:!1,placeholder:"select problem from...","can-clear":!1,disabled:e.readonly},{singlelabel:O((({value:e})=>[f("div",Ke,j(g(te)(e.label)),1)])),option:O((({option:e})=>[f("span",Je,j(g(te)(e.label)),1)])),_:2},1032,["modelValue","onUpdate:modelValue","options","disabled"])])])])]),f("div",Qe,[Xe,f("div",Ze,[f("div",el,[f("div",ll,[x(R,{key:s,modelValue:l.problemIssues,"onUpdate:modelValue":[e=>l.problemIssues=e,e=>(e=>{var l,a,s,t;(null==(a=null==(l=y.value)?void 0:l[e])?void 0:a.etcDescription)&&!(null==(t=null==(s=y.value)?void 0:s[e].problemIssues)?void 0:t.some((e=>H.PROBLEM.includes(e))))&&(y.value[e].etcDescription=void 0)})(s)],mode:"tags",placeholder:"select problem issues","value-prop":"id",label:"name",searchable:!1,"create-tag":!0,options:(null==l?void 0:l.from)&&(null==l?void 0:l.from.toLocaleLowerCase())!==g(X).SYSTEM?g(ma)[g(X).ATTENDEE]:g(ma)[g(X).SYSTEM],"max-height":145,disabled:e.readonly},{tag:O((({option:e,handleTagRemove:l,disabled:s})=>[f("div",al,[E(j(e.name)+" ",1),s?M("",!0):(m(),b("span",{key:0,class:"multiselect-tag-remove",onClick:a[2]||(a[2]=L((()=>{}),["prevent"])),onMousedown:L((a=>l(e,a)),["prevent","stop"])},tl,40,sl))])])),option:O((({option:e})=>[f("span",ol,j(e.name),1)])),_:2},1032,["modelValue","onUpdate:modelValue","options","disabled"])])])])]),_(f("div",il,[nl,f("div",dl,[f("div",rl,[f("div",cl,[_(f("input",{"onUpdate:modelValue":e=>l.etcDescription=e,type:"text",class:"input",placeholder:"input description",readonly:e.readonly},null,8,ul),[[P,l.etcDescription]])])])])],512),[[w,null==(t=null==l?void 0:l.problemIssues)?void 0:t.some((e=>g(H).PROBLEM.includes(e)))]]),(null==l?void 0:l.from)&&(null==l?void 0:l.from.toLocaleLowerCase())!==g(X).SYSTEM?(m(),b("div",pl,[vl,f("div",ml,[f("div",bl,[f("div",fl,[x(R,{key:s,modelValue:l.operatingSystem,"onUpdate:modelValue":e=>l.operatingSystem=e,options:g(va).operatingSystems,searchable:!1,placeholder:"select operating system","can-clear":!1,disabled:e.readonly,onClear:e=>l.operatingSystem=void 0},{singlelabel:O((({value:e})=>[f("div",yl,j(g(te)(e.label)),1)])),option:O((({option:e})=>[f("span",gl,j(g(te)(e.label)),1)])),_:2},1032,["modelValue","onUpdate:modelValue","options","disabled","onClear"])])])])])):M("",!0),(null==l?void 0:l.from)&&(null==l?void 0:l.from.toLocaleLowerCase())===g(X).SYSTEM?(m(),b("div",hl,[Sl,f("div",Vl,[f("div",Rl,[f("div",Cl,[x(R,{key:s,modelValue:l.problemCategory,"onUpdate:modelValue":e=>l.problemCategory=e,options:g(va).problemCategories,searchable:!1,placeholder:"select problem category","can-clear":!1,disabled:e.readonly,onClear:e=>l.problemCategory=void 0},{singlelabel:O((({value:e})=>[f("div",kl,j(g(te)(e.label)),1)])),option:O((({option:e})=>[f("span",Dl,j(g(te)(e.label)),1)])),_:2},1032,["modelValue","onUpdate:modelValue","options","disabled","onClear"])])])])])):M("",!0)]})),_:2},1024)])))),128))]),f("div",Il,[Tl,f("div",Ol,[f("div",xl,[f("div",El,[x(R,{modelValue:g(C),"onUpdate:modelValue":a[3]||(a[3]=e=>z(C)?C.value=e:null),options:g(va).problemTimes,value:g(C),searchable:!1,placeholder:"select problem time","can-clear":!1,disabled:e.readonly,onClear:a[4]||(a[4]=e=>C.value=null)},{singlelabel:O((({value:e})=>[f("div",jl,j(g(te)(null==e?void 0:e.label)),1)])),option:O((({option:e})=>[f("span",_l,j(g(te)(null==e?void 0:e.label)),1)])),_:1},8,["modelValue","options","value","disabled"])])])])]),f("div",wl,[Ul,f("div",Pl,[f("div",Al,[f("div",Ll,[(m(!0),b(A,null,U(g(va).classProblemStatuses,(l=>(m(),T(Q,{key:l,modelValue:g(k),"onUpdate:modelValue":a[5]||(a[5]=e=>z(k)?k.value=e:null),value:l,label:g(te)(l),name:"problem_status_radio",color:"primary",disabled:e.readonly},null,8,["modelValue","value","label","disabled"])))),128))])])])]),g(k)==g(Z).SOLVED?(m(),b("div",Ml,[zl,f("div",Nl,[f("div",ql,[f("div",Fl,[x(R,{modelValue:g(h),"onUpdate:modelValue":a[6]||(a[6]=e=>z(h)?h.value=e:null),options:g(va).solveTimes,searchable:!1,"value-prop":"value",placeholder:"select solve time","can-clear":!1,disabled:e.readonly,onClear:a[7]||(a[7]=e=>h.value=null)},{singlelabel:O((({value:e})=>[f("div",Wl,j(g(te)(e.label)),1)])),option:O((({option:e})=>[f("span",Yl,j(g(te)(e.label)),1)])),_:1},8,["modelValue","options","disabled"])])])])])):M("",!0),g(k)==g(Z).SOLVED?(m(),b("div",Bl,[f("div",$l,[Gl,f("div",Hl,[f("div",Kl,[f("div",Jl,[x(D,{modelValue:g(oe).id,"onUpdate:modelValue":[a[8]||(a[8]=e=>g(oe).id=e),Oa],searchable:!1,"callback-search":o,"label-by":"name","value-prop":"id",placeholder:"select solution","is-show-id":!1,disabled:e.readonly},null,8,["modelValue","disabled"])])])])]),_(f("div",Ql,[Xl,f("div",Zl,[f("div",ea,[f("div",la,[_(f("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>g(oe).etcDescription=e),type:"text",class:"input",placeholder:"input description",readonly:e.readonly},null,8,aa),[[P,g(oe).etcDescription]])])])])],512),[[w,(null==(l=g(oe))?void 0:l.id)===g(H).SOLUTION]])])):M("",!0)],512),[[w,Da.value]]),sa,f("div",ta,[oa,f("div",ia,[f("div",na,[f("div",da,[(m(!0),b(A,null,U(g(va).classIssueStatuses,((l,s)=>(m(),T(Q,{key:`classStatus-${s}`,modelValue:g(ua),"onUpdate:modelValue":a[10]||(a[10]=e=>z(ua)?ua.value=e:null),value:l,label:g(te)(l),name:"class_status_radio",color:"primary",disabled:e.readonly},null,8,["modelValue","value","label","disabled"])))),128))])])])]),x(ee,{readonly:e.readonly,detail:g(ne),"ticket-return":g(ie),"call-status":g(ca),"student-satisfaction":g(pa),"ticket-return-options":g(va).ticketReturns,"call-status-option":g(va).callStatuses,"student-satisfaction-option":g(va).studentSatisfactions,"onUpdate:detail":a[11]||(a[11]=e=>ne.value=e.target.value),"onUpdate:ticketReturn":a[12]||(a[12]=e=>ie.value=e.target.value),"onUpdate:callStatus":a[13]||(a[13]=e=>ca.value=e.target.value),"onUpdate:studentSatisfaction":a[14]||(a[14]=e=>pa.value=e.target.value)},null,8,["readonly","detail","ticket-return","call-status","student-satisfaction","ticket-return-options","call-status-option","student-satisfaction-option"])])]})),action:O((()=>[x(le,{color:"primary",raised:"",loading:g(Ra),disabled:g(ba)||g(ga)&&Ia.value||g(ya)&&Da.value||e.readonly,onClick:xa},{default:O((()=>[ra])),_:1},8,["loading","disabled"])])),_:1},8,["open","title"])}}});ca.__scopeId="data-v-5460f263";export{ca as _};
