var e,t,a=Object.defineProperty,s=Object.defineProperties,r=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(e,t,s)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;import{_ as p}from"./VPlaceholderSection.vue_vue&type=script&setup=true&lang.35b0ad2a.js";import{_ as i}from"./VCard.vue_vue&type=script&setup=true&lang.27754e87.js";import{at as u,p as _,a as E,d,o as T,e as C,h as P,t as S,g as v,D as A,n as R,G as m,i as y,y as O,a4 as L,f,q as g,A as b,b as I,k as j,Y as D,ae as V,E as k,x as h,O as N,F as K,H as w,I as M,K as Y,V as x}from"./vendor.1c8b4573.js";import{a as U,c as G}from"./text.helper.174bd8fa.js";import{k as F,c as H}from"./index.d7dc1ff6.js";import{u as B}from"./useOptionApi.f4dc99b9.js";import{u as q}from"./useStudentApi.e8de2a80.js";import{R as z}from"./class-report.enum.31771efb.js";(t=e||(e={})).ASSESSMENT="assessment",t.TICKET="ticket",t.PACKAGE="package",t.CLASS_REPORT_CANCEL="class-report-cancel",t.CLASS_REPORT_SYSTEM="class-report-within-class",t.FEEDBACK="feedback",t.REPORT_CALL="report-call",t.NOTE="note",t.DEVICE_CHECKUP="device-checkup",t.ACTIVITY="activity",t.GROUPCLASS_REPORT="group-class-report";const $=u((()=>F((()=>import("./ActivityLog.0ef424ba.js")),["assets/ActivityLog.0ef424ba.js","assets/vendor.1c8b4573.js"]))),J=u((()=>F((()=>import("./AssessmentLog.3365a092.js")),["assets/AssessmentLog.3365a092.js","assets/AssessmentLog.44581a6d.css","assets/vendor.1c8b4573.js"]))),Q=u((()=>F((()=>import("./ClassReportLog.379baae7.js")),["assets/ClassReportLog.379baae7.js","assets/ClassReportLog.d0b03be5.css","assets/VCard.vue_vue&type=script&setup=true&lang.27754e87.js","assets/vendor.1c8b4573.js","assets/VTag.vue_vue&type=script&setup=true&lang.b31af8ee.js","assets/VPlaceholderSection.vue_vue&type=script&setup=true&lang.35b0ad2a.js","assets/text.helper.174bd8fa.js","assets/index.d7dc1ff6.js","assets/index.cceecc88.css","assets/useOptionApi.f4dc99b9.js","assets/quiz.enum.fc8b95fc.js","assets/useStudentApi.e8de2a80.js","assets/class-report.enum.31771efb.js"]))),W=u((()=>F((()=>import("./DeviceCheckupLog.021fc173.js")),["assets/DeviceCheckupLog.021fc173.js","assets/vendor.1c8b4573.js"]))),X=u((()=>F((()=>import("./FeedbackLog.989586e3.js")),["assets/FeedbackLog.989586e3.js","assets/FeedbackLog.e858c090.css","assets/vendor.1c8b4573.js","assets/useOptionApi.f4dc99b9.js","assets/index.d7dc1ff6.js","assets/index.cceecc88.css","assets/quiz.enum.fc8b95fc.js","assets/text.helper.174bd8fa.js"]))),Z=u((()=>F((()=>import("./GroupClassReportLog.e3fd795f.js")),["assets/GroupClassReportLog.e3fd795f.js","assets/vendor.1c8b4573.js"]))),ee=u((()=>F((()=>import("./NoteLog.b7058ed8.js")),["assets/NoteLog.b7058ed8.js","assets/vendor.1c8b4573.js"]))),te=u((()=>F((()=>import("./PackageLog.e2231ffb.js")),["assets/PackageLog.e2231ffb.js","assets/vendor.1c8b4573.js"]))),ae=u((()=>F((()=>import("./ReportCallLog.e5b8832e.js")),["assets/ReportCallLog.e5b8832e.js","assets/vendor.1c8b4573.js"]))),se=u((()=>F((()=>import("./TicketLog.9390733b.js")),["assets/TicketLog.9390733b.js","assets/text.helper.174bd8fa.js","assets/vendor.1c8b4573.js"]))),re=t=>{switch(t){case e.ACTIVITY:return $;case e.ASSESSMENT:return J;case e.CLASS_REPORT_CANCEL:case e.CLASS_REPORT_SYSTEM:return Q;case e.DEVICE_CHECKUP:return W;case e.FEEDBACK:return X;case e.GROUPCLASS_REPORT:return Z;case e.NOTE:return ee;case e.PACKAGE:return te;case e.REPORT_CALL:return ae;case e.TICKET:return se;default:return"div"}},ce=t=>{switch(t){case e.ACTIVITY:case e.FEEDBACK:return"is-info";case e.ASSESSMENT:case e.DEVICE_CHECKUP:return"is-purple";case e.CLASS_REPORT:case e.GROUPCLASS_REPORT:return"is-danger";case e.NOTE:case e.REPORT_CALL:return"is-warning";case e.PACKAGE:case e.TICKET:return"is-success";case e.CLASS_REPORT_CANCEL:return"is-primary";case e.CLASS_REPORT_SYSTEM:return"is-success";default:return""}},oe=t=>{switch(t){case e.ACTIVITY:return"activity";case e.FEEDBACK:return"feedback";case e.ASSESSMENT:return"assesment";case e.DEVICE_CHECKUP:return"device-checkup";case e.CLASS_REPORT:return"class-report";case e.GROUPCLASS_REPORT:return"groupclass-report";case e.NOTE:return"note";case e.REPORT_CALL:return"report-call";case e.PACKAGE:return"package";case e.TICKET:return"ticket";case e.CLASS_REPORT_CANCEL:return"class-report-cancel";case e.CLASS_REPORT_SYSTEM:return"class-report-system";default:return""}};_("data-v-80487fe6");const ne={class:"timeline-item"},le={class:"date"},pe={class:"title is-5"},ie={key:0},ue={class:"box-end"};E();var _e=d({props:{event:{type:Object,required:!0}},setup:e=>(t,a)=>(T(),C("div",ne,[P("div",le,[P("span",null,S(v(A)(e.event.createdAt).format("DD/MM/YYYY HH:mm")),1)]),P("div",{class:R(["dot",v(ce)(e.event.type)])},null,2),P("div",{class:R(["content-wrap meta-text report-content p-0",v(oe)(e.event.type)])},[P("div",{class:R(["p-4 header-box",v(oe)(e.event.type)])},[P("h2",pe,[m(S(v(U)(e.event.type))+" ",1),e.event.action?(T(),C("span",ie,"("+S(v(G)(e.event.action))+")",1)):y("",!0)])],2),P("div",{class:R(["p-4 content-box",v(oe)(e.event.type)])},[(T(),O(L(v(re)(e.event.type)),{class:"component-box",event:e.event},null,8,["event"]))],2),P("div",ue,[f(t.$slots,"right",{},void 0,!0)])],2)]))});function Ee(){const e=g({data:[],currentPage:1,perPage:10,totalPage:0,types:[],selectedType:void 0}),t=b(),a=I(),p=t.params.id,i=j((()=>t.query.type)),{getStudentLogs:u}=q(),{getStudentLogType:_}=B(),E=async()=>{const t=await u({studentId:+p,currentPage:e.currentPage,perPage:e.perPage,type:e.selectedType});t&&(e.data=1===e.currentPage?t.data:e.data.concat(t.data),e.totalPage=t.totalPage)};return D((async()=>{e.selectedType=i.value;const[t]=await Promise.all([_(),E()]);e.types=t})),d=((e,t)=>{for(var a in t||(t={}))o.call(t,a)&&l(e,a,t[a]);if(c)for(var a of c(t))n.call(t,a)&&l(e,a,t[a]);return e})({},V(e)),s(d,r({loadMore:()=>{e.currentPage+=1,E()},filterByType:()=>{e.currentPage=1,a.push({query:{type:e.selectedType}})}}));var d}_e.__scopeId="data-v-80487fe6";const de=e=>e===z.NOT_RETURN?"No":e===z.RETURN?"Yes":"Yes (Special)";_("data-v-1e2d6958");const Te={class:"filter-box"},Ce=P("h6",{class:"title is-6 p-2 m-0"},"Filter by",-1),Pe={class:"timeline-wrapper"},Se={class:"timeline-wrapper-inner"},ve={key:1,class:"timeline-container"},Ae={class:"load-more-wrap has-text-centered"},Re=m("Load More");E();var me=d({setup(e){const{data:t,types:a,selectedType:s,loadMore:r,totalPage:c,currentPage:o,filterByType:n}=Ee(),l=()=>{s&&(s.value=void 0,n())};return(e,u)=>{const _=k("Multiselect"),E=p,d=i,S=_e,A=H;return T(),C("div",null,[P("div",Te,[Ce,h(_,{modelValue:v(s),"onUpdate:modelValue":u[0]||(u[0]=e=>N(s)?s.value=e:null),options:v(a),label:"key","value-prop":"value",placeholder:"filter by type",class:"filter-option",onSelect:v(n),onClear:l,onDeselect:v(n)},null,8,["modelValue","options","onSelect","onDeselect"])]),P("div",Pe,[P("div",Se,[v(t).length?(T(),C("div",ve,[(T(!0),C(w,null,M(v(t),((e,t)=>(T(),O(S,{key:t,event:e},null,8,["event"])))),128))])):(T(),O(d,{key:0,class:"empty"},{default:K((()=>[h(E,{title:"N/A"})])),_:1})),Y(P("div",Ae,[h(A,{"dark-outlined":"",onClick:v(r)},{default:K((()=>[Re])),_:1},8,["onClick"])],512),[[x,v(c)>v(o)]])])])])}}});me.__scopeId="data-v-1e2d6958";var ye=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:me});export{de as d,ye as r};
