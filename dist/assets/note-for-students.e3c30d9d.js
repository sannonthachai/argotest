var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,u=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&o(e,n,t[n]);if(a)for(var n of a(t))s.call(t,n)&&o(e,n,t[n]);return e},i=(e,a)=>t(e,n(a));import{c,e as r,g as m}from"./index.d7dc1ff6.js";import{_ as d,a as v}from"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import{_ as p}from"./VCard.vue_vue&type=script&setup=true&lang.27754e87.js";import{p as f,a as y,d as h,r as g,o as b,y as _,F as C,h as j,t as I,e as S,K as w,V as L,x as G,G as x,i as O,ai as V,A as T,k,S as E,g as F,H as U,I as N}from"./vendor.1c8b4573.js";import{_ as P}from"./VLoader.vue_vue&type=script&setup=true&lang.a96d7daf.js";import{u as A}from"./useCoachApi.4bab1366.js";import{u as z}from"./useNotyf.ddf08f06.js";import{u as B}from"./useCoachInfo.5a7fb11a.js";import{u as D}from"./useGuardCoach.2473a459.js";f("data-v-fd45e23a");const H={class:"detail"},K={class:"is-flex is-justify-content-space-between is-align-items-center"},q={class:"title is-5 is-narrow"},J=x(" Language: "),M={class:"uppercase"},Q={key:0,class:"buttons"},R=x("Cancel"),W=j("div",{class:"is-divider my-5"},null,-1),X={key:0,class:"columns is-multiline"},Y={class:"column is-6"},Z=j("h2",{class:"title is-6 is-narrow"},"Continent",-1),$={class:"column is-6"},ee=j("h2",{class:"title is-6 is-narrow"},"Level",-1),te={class:"column is-12"},ne=j("h2",{class:"title is-6 is-narrow"},"Graduation",-1),ae={class:"column is-12"},le=j("h2",{class:"title is-6 is-narrow"},"Interesting",-1),se={class:"column is-12"},oe=j("h2",{class:"title is-6 is-narrow"},"Teaching Style",-1),ue={class:"column is-12"},ie=j("h2",{class:"title is-6 is-narrow"},"Character",-1),ce={key:1,class:"columns is-multiline"},re={class:"column is-6"},me=j("label",null,"Continent",-1),de={class:"column is-6"},ve=j("label",null,"Level",-1),pe={class:"column is-12"},fe=j("label",null,"Graduation",-1),ye={class:"column is-12"},he=j("label",null,"Interesting",-1),ge={class:"column is-12"},be=j("label",null,"Teaching Style",-1),_e={class:"column is-12"},Ce=j("label",null,"Character",-1);y();var je=h({props:{language:{type:String,default:"th"},content:{type:Object,default:()=>({commentContinent:"",commentLevel:"",commentTeachstyle:"",commentGraduation:"",commentInterest:"",commentCharacter:""})},canEdit:{type:Boolean,default:!1}},emits:["submit"],setup(e,{emit:t}){const n=e,a=g(u({},n.content)),l=g(!1),s=()=>{l.value=!1,a.value=u({},n.content)},o=()=>{l.value=!l.value,l.value||t("submit",a.value)};return(t,n)=>{const u=c,i=d,r=v,m=p;return b(),_(m,{class:"mb-3"},{default:C((()=>[j("div",H,[j("div",K,[j("h3",q,[J,j("span",M,I(e.language),1)]),e.canEdit?(b(),S("div",Q,[w(G(u,{onClick:s},{default:C((()=>[R])),_:1},512),[[L,l.value]]),G(u,{icon:"feather:edit",color:"primary",outlined:"",onClick:o},{default:C((()=>[x(I(l.value?"Save":"Edit"),1)])),_:1})])):O("",!0)]),W,l.value?O("",!0):(b(),S("div",X,[j("div",Y,[Z,j("p",null,I(e.content.commentContinent),1)]),j("div",$,[ee,j("p",null,I(e.content.commentLevel),1)]),j("div",te,[ne,j("p",null,I(e.content.commentGraduation),1)]),j("div",ae,[le,j("p",null,I(e.content.commentInterest),1)]),j("div",se,[oe,j("p",null,I(e.content.commentTeachstyle),1)]),j("div",ue,[ie,j("p",null,I(e.content.commentCharacter),1)])])),l.value&&e.canEdit?(b(),S("div",ce,[j("div",re,[G(r,null,{default:C((()=>[me,G(i,null,{default:C((()=>[w(j("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>a.value.commentContinent=e),type:"text",name:"continent",class:"input"},null,512),[[V,a.value.commentContinent]])])),_:1})])),_:1})]),j("div",de,[G(r,null,{default:C((()=>[ve,G(i,null,{default:C((()=>[w(j("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>a.value.commentLevel=e),type:"text",name:"level",class:"input"},null,512),[[V,a.value.commentLevel]])])),_:1})])),_:1})]),j("div",pe,[G(r,null,{default:C((()=>[fe,G(i,null,{default:C((()=>[w(j("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>a.value.commentGraduation=e),type:"text",name:"graduation",class:"input"},null,512),[[V,a.value.commentGraduation]])])),_:1})])),_:1})]),j("div",ye,[G(r,null,{default:C((()=>[he,G(i,null,{default:C((()=>[w(j("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>a.value.commentInterest=e),type:"text",name:"interesting",class:"input"},null,512),[[V,a.value.commentInterest]])])),_:1})])),_:1})]),j("div",ge,[G(r,null,{default:C((()=>[be,G(i,null,{default:C((()=>[w(j("input",{"onUpdate:modelValue":n[4]||(n[4]=e=>a.value.commentTeachstyle=e),type:"text",name:"teaching_style",class:"input"},null,512),[[V,a.value.commentTeachstyle]])])),_:1})])),_:1})]),j("div",_e,[G(r,null,{default:C((()=>[Ce,G(i,null,{default:C((()=>[w(j("input",{"onUpdate:modelValue":n[5]||(n[5]=e=>a.value.commentCharacter=e),type:"text",name:"character",class:"input"},null,512),[[V,a.value.commentCharacter]])])),_:1})])),_:1})])])):O("",!0)])])),_:1})}}});function Ie(){const e=g(!1),{coachInfo:t}=B(),n=T(),a=z(),{updateNoteForStudent:l}=A(),s=k((()=>"#edit"===n.hash));return E((()=>null==t?void 0:t.value),(()=>{(null==t?void 0:t.value)&&(t.value.noteForStudents||(t.value.noteForStudents={th:{commentContinent:"-",commentLevel:"-",commentGraduation:"-",commentInterest:"-",commentTeachstyle:"-"},en:{commentContinent:"-",commentLevel:"-",commentGraduation:"-",commentInterest:"-",commentTeachstyle:"-"},vn:{commentContinent:"-",commentLevel:"-",commentGraduation:"-",commentInterest:"-",commentTeachstyle:"-"}}))})),{coachInfo:t,isEdit:s,submitNote:(n,s)=>{var o;(async n=>{if(!(null==t?void 0:t.value))return;e.value=!0;const{data:s,message:o}=await l(t.value.id,n);e.value=!1,o?a.error(r(o)):(t.value=i(u({},t.value),{noteForStudents:s}),a.success("Updated success!"))})(i(u({},null==(o=null==t?void 0:t.value)?void 0:o.noteForStudents),{[s]:u({},n)}))},isLoading:e}}je.__scopeId="data-v-fd45e23a";const Se={key:0};var we=h({setup(e){const{coachInfo:t,isEdit:n,isLoading:a,submitNote:l}=Ie(),{user:s}=m(),{capabilities:o}=D(),u=e=>{const t=null==s?void 0:s.manageCountry.some((e=>"th"===e));return(null==s?void 0:s.manageCountry.some((t=>t===e)))||t};return(e,n)=>{const s=je,i=P;return F(t)?(b(),S("div",Se,[G(i,{size:"large",translucent:"",active:F(a)},{default:C((()=>[(b(!0),S(U,null,N(F(t).noteForStudents,((e,t)=>(b(),_(s,{key:t,content:e,language:t,"can-edit":F(o).canEditNote&&u(t),onSubmit:e=>F(l)(e,t)},null,8,["content","language","can-edit","onSubmit"])))),128))])),_:1},8,["active"])])):O("",!0)}}});export default we;
