var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,o=(e,a)=>{for(var t in a||(a={}))i.call(a,t)&&n(e,t,a[t]);if(s)for(var t of s(a))l.call(a,t)&&n(e,t,a[t]);return e};import{u as r,o as c,p as d,c as u,b as p,h as m}from"./index.d7dc1ff6.js";import{_ as v}from"./VTag.vue_vue&type=script&setup=true&lang.b31af8ee.js";import{_ as f}from"./Datatable.aae3ef08.js";import{_ as y}from"./VPlaceholderSection.vue_vue&type=script&setup=true&lang.35b0ad2a.js";import{_ as g}from"./VModal.31b4f4ba.js";import{k as b,q as h,r as P,Y as k,ae as C,d as _,b as E,A as w,X as D,o as j,e as T,x as O,au as I,g as S,F as A,h as x,t as V,G as L,i as q,p as B,a as F}from"./vendor.1c8b4573.js";import{u as R}from"./usePaginationRoute.780ca235.js";import{u as N,P as W}from"./podcast.enum.beb81859.js";import"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import"./VLoader.vue_vue&type=script&setup=true&lang.a96d7daf.js";import"./VFlexPagination.86ce707c.js";import"./search-4-dark.fb3880a5.js";function M(){const e=h({data:[],total:0,podcastId:0,podcastTitle:"",isLoading:!0,isDeleting:!1}),s=P([{key:"id",label:"ID"},{key:"title",label:"Title",isRaw:!0},{key:"file",label:"File"},{key:"status",label:"Status"},{key:"level",label:"Level"},{key:"script",label:"Script"},{key:"scriptPage",label:"Script Page",isCenter:!0}]),{currentPage:i,perPage:l,search:n}=R(),{getPodcasts:r,getPodcastById:d,deletePodcast:u}=N(),p=async()=>{e.isLoading=!0;const a=await r({currentPage:i,perPage:l,search:n});e.isLoading=!1,a&&(e.data=a.data,e.total=a.total)};return k((async()=>{await p()})),m=o({},C(e)),a(m,t({headers:s,fetchPodcasts:p,displayOnlyFileName:e=>e.split("/").pop()+" ",isStatusEnable:e=>e===W.ENABLE,setPodcastTitleById:async a=>{const t=await d(a);e.podcastTitle=null==t?void 0:t.title},confirmDeletePodcast:async e=>{const a=await u(e);c(a,"Podcast was deleted!"),await p()}}));var m}B("data-v-99f9e39a");const Y={class:"page-content-inner"},$={class:"is-flex is-justify-content-flex-end pt-4"},z=L(" Create "),G=["href"],X={key:1,class:"light-text"},H=["href"],J={key:1,class:"light-text"},K={key:0,class:"dark-inverted is-flex is-justify-content-flex-end"},Q=L(" Actions "),U=["onClick"],Z=[x("div",{class:"icon"},[x("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1),x("div",{class:"meta"},[x("span",null,"View"),x("span",null,"View Podcast")],-1)],ee=["onClick"],ae=[x("div",{class:"icon"},[x("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1),x("div",{class:"meta"},[x("span",null,"Edit"),x("span",null,"Edit Podcast")],-1)],te=x("hr",{class:"dropdown-divider"},null,-1),se=["onClick"],ie=[x("div",{class:"icon"},[x("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),x("div",{class:"meta"},[x("span",null,"Remove"),x("span",null,"Remove Podcast")],-1)],le=L("Confirm"),ne=L("Cancel");F();var oe=_({setup(e){const{data:a,total:t,isLoading:s,podcastId:i,podcastTitle:l,headers:n,displayOnlyFileName:c,isStatusEnable:h,setPodcastTitleById:k,confirmDeletePodcast:C}=M(),{podcasts:_,haveActionButton:B}={podcasts:b((()=>({canView:r(["VIEW_PODCAST"]),canCreate:r(["CREATE_PODCAST"]),canEdit:r(["EDIT_PODCAST"]),canDelete:r(["DELETE_PODCAST"])}))),haveActionButton:b((()=>r(["VIEW_PODCAST"])||r(["EDIT_PODCAST"])||r(["DELETE_PODCAST"])))},F=E(),R=w();d.value="Podcast Information",D({title:"Whitehouse: Moocs & Podcasts"});const N=P(!1),W=()=>{F.push({name:"e-learning-podcasts-:id",query:o({},R.query),params:{id:"new"}})};return(e,r)=>{const d=u,b=p,P=v,E=m,w=f,D=y,M=g;return j(),T("div",Y,[O(w,{"is-loading":S(s),"search-placeholder":"search by id, name, slug",headers:S(n),data:S(a),total:S(t),"is-action":S(B)},I({file:A((({value:e})=>[e?(j(),T("a",{key:0,href:e,class:"action-link",target:"_blank"},[x("span",null,V(S(c)(e)),1),O(b,{icon:"feather:external-link"})],8,G)):(j(),T("span",X,"-"))])),status:A((({value:e})=>[O(P,{color:S(h)(e)?"success":"danger",label:S(h)(e)?"Enable":"Disable",rounded:"",elevated:""},null,8,["color","label"])])),level:A((({value:e})=>[L(V(e||"-"),1)])),script:A((({value:e})=>[e?(j(),T("a",{key:0,href:e,class:"action-link",target:"_blank"},[x("span",null,V(S(c)(e)),1),O(b,{icon:"feather:external-link"})],8,H)):(j(),T("span",J,"-"))])),action:A((({value:e})=>[S(B)?(j(),T("div",K,[O(E,{spaced:"",right:""},{button:A((({toggle:e})=>[O(d,{icon:"feather:more-vertical",class:"is-trigger",onClick:e},{default:A((()=>[Q])),_:2},1032,["onClick"])])),content:A((()=>[S(_).canView?(j(),T("a",{key:0,role:"menuitem",class:"dropdown-item is-media",onClick:a=>{return t=e.id,void F.push({name:"e-learning-podcasts-:id",query:o({},R.query),params:{id:t}});var t}},Z,8,U)):q("",!0),S(_).canEdit?(j(),T("a",{key:1,role:"menuitem",class:"dropdown-item is-media",onClick:a=>{return t=e.id,void F.push({name:"e-learning-podcasts-:id",query:o({},R.query),params:{id:t},hash:"#edit"});var t}},ae,8,ee)):q("",!0),te,S(_).canDelete?(j(),T("a",{key:2,role:"menuitem",class:"dropdown-item is-media",onClick:a=>{return t=e.id,N.value=!0,k(t),void(i.value=t);var t}},ie,8,se)):q("",!0)])),_:2},1024)])):q("",!0)])),_:2},[S(_).canCreate?{name:"custom-right",fn:A((()=>[x("div",$,[O(d,{color:"primary",icon:"fas fa-plus",onClick:W},{default:A((()=>[z])),_:1})])]))}:void 0]),1032,["is-loading","headers","data","total","is-action"]),O(M,{key:S(i),title:"Confirm Remove Podcast",open:N.value,size:"small",actions:"center",onClose:r[2]||(r[2]=e=>N.value=!1)},{content:A((()=>[O(D,{subtitle:`You want to remove Podcast ID (${S(i)}) :  ${S(l)}`},null,8,["subtitle"])])),action:A((()=>[O(d,{color:"primary",raised:"",onClick:r[0]||(r[0]=e=>{N.value=!1,S(C)(S(i))})},{default:A((()=>[le])),_:1})])),cancel:A((()=>[O(d,{raised:"",onClick:r[1]||(r[1]=e=>N.value=!1)},{default:A((()=>[ne])),_:1})])),_:1},8,["open"])])}}});oe.__scopeId="data-v-99f9e39a";export default oe;
