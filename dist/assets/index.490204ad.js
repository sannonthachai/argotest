import{_ as e}from"./VPlaceholderSection.vue_vue&type=script&setup=true&lang.35b0ad2a.js";import{p as a,c as t,h as s}from"./index.d7dc1ff6.js";import{_ as i}from"./VModal.31b4f4ba.js";import{_ as o}from"./Datatable.aae3ef08.js";import{d as n,Y as l,E as r,o as c,e as d,x as p,F as m,g as u,au as f,h as v,y as h,i as g,G as y,t as j,D as C}from"./vendor.1c8b4573.js";import{u as _,a as k}from"./useCloseOperation.40660e7d.js";import"./VField.vue_vue&type=script&setup=true&lang.ef5e6c86.js";import"./VLoader.vue_vue&type=script&setup=true&lang.a96d7daf.js";import"./VFlexPagination.86ce707c.js";import"./search-4-dark.fb3880a5.js";import"./usePaginationRoute.780ca235.js";import"./useNotyf.ddf08f06.js";const b={class:"page-content-inner"},D=y("Confirm"),Y=y("Create"),V={class:"dark-inverted is-flex is-justify-content-flex-end"},x=y(" Actions "),w=v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1),R=v("div",{class:"meta"},[v("span",null,"View"),v("span",null,"View close operation detail")],-1),M=v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1),O=v("div",{class:"meta"},[v("span",null,"Edit"),v("span",null,"Edit close operation detail")],-1),A=["onClick"],E=[v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),v("div",{class:"meta"},[v("span",null,"Remove"),v("span",null,"Remove from list")],-1)];var F=n({setup(n){const{closeOperationList:F,closeOperationTableHeaders:L,confirmRemoveId:P,total:B,deleteCloseOperation:$,fetchAllCloseOperation:G}=_();l((()=>{G()}));const{capabilities:H,haveActionButton:I}=k();return a.value="Close operations",(a,n)=>{const l=e,_=t,k=i,G=r("RouterLink"),N=s,S=o;return c(),d("div",b,[p(k,{title:"",open:!!u(P),actions:"center",onClose:n[0]||(n[0]=e=>P.value=void 0)},{content:m((()=>[p(l,{title:"Remove confirm",subtitle:"Are you sure to remove close operation ?"})])),action:m((()=>[p(_,{color:"primary",raised:"",onClick:u($)},{default:m((()=>[D])),_:1},8,["onClick"])])),_:1},8,["open"]),p(S,{"search-placeholder":"search by id, description",headers:u(L),data:u(F),total:u(B),"is-action":u(I)},f({startDate:m((({value:e})=>[y(j(u(C)(e).format("DD/MM/YYYY")),1)])),endDate:m((({value:e})=>[y(j(u(C)(e).format("DD/MM/YYYY")),1)])),createdBy:m((({value:e})=>[y(j(e.creator.name),1)])),_:2},[u(H).canCreate?{name:"custom-right",fn:m((()=>[p(_,{color:"primary",icon:"feather:plus",class:"is-flex justify-content-end",to:{name:"settings-close-operations-create"}},{default:m((()=>[Y])),_:1})]))}:void 0,u(I)?{name:"action",fn:m((({value:e})=>[v("div",V,[p(N,{spaced:"",right:""},{button:m((({toggle:e})=>[p(_,{icon:"feather:more-vertical",class:"is-trigger",onClick:e},{default:m((()=>[x])),_:2},1032,["onClick"])])),content:m((()=>[u(H).canView?(c(),h(G,{key:0,role:"menuitem",class:"dropdown-item is-media",to:{name:"settings-close-operations-:id",params:{id:`${e.id}`}}},{default:m((()=>[w,R])),_:2},1032,["to"])):g("",!0),u(H).canEdit?(c(),h(G,{key:1,role:"menuitem",class:"dropdown-item is-media",to:{name:"settings-close-operations-:id",hash:"#edit",params:{id:`${e.id}`}}},{default:m((()=>[M,O])),_:2},1032,["to"])):g("",!0),u(H).canDelete?(c(),d("a",{key:2,role:"menuitem",class:"dropdown-item is-media",onClick:a=>P.value=e.id},E,8,A)):g("",!0)])),_:2},1024)])]))}:void 0]),1032,["headers","data","total","is-action"])])}}});export default F;
